{"ast":null,"code":"import React from'react';import{Navigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AuthGuard=_ref=>{let{children,redirectTo='/citizen-login',requireAuth=true}=_ref;const{user,isLoading}=useAuth();if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"Checking authentication...\"})]})});}if(requireAuth&&!user){return/*#__PURE__*/_jsx(Navigate,{to:redirectTo,replace:true});}if(!requireAuth&&user){// User is logged in but trying to access login/signup pages\nconst dashboardPath=user.userType==='citizen'?'/citizen-dashboard':'/admin-dashboard';return/*#__PURE__*/_jsx(Navigate,{to:dashboardPath,replace:true});}return children;};export default AuthGuard;","map":{"version":3,"names":["React","Navigate","useAuth","jsx","_jsx","jsxs","_jsxs","AuthGuard","_ref","children","redirectTo","requireAuth","user","isLoading","className","to","replace","dashboardPath","userType"],"sources":["/app/frontend/src/components/AuthGuard.js"],"sourcesContent":["import React from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst AuthGuard = ({ children, redirectTo = '/citizen-login', requireAuth = true }) => {\n  const { user, isLoading } = useAuth();\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Checking authentication...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (requireAuth && !user) {\n    return <Navigate to={redirectTo} replace />;\n  }\n\n  if (!requireAuth && user) {\n    // User is logged in but trying to access login/signup pages\n    const dashboardPath = user.userType === 'citizen' ? '/citizen-dashboard' : '/admin-dashboard';\n    return <Navigate to={dashboardPath} replace />;\n  }\n\n  return children;\n};\n\nexport default AuthGuard;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,OAASC,OAAO,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElD,KAAM,CAAAC,SAAS,CAAGC,IAAA,EAAqE,IAApE,CAAEC,QAAQ,CAAEC,UAAU,CAAG,gBAAgB,CAAEC,WAAW,CAAG,IAAK,CAAC,CAAAH,IAAA,CAChF,KAAM,CAAEI,IAAI,CAAEC,SAAU,CAAC,CAAGX,OAAO,CAAC,CAAC,CAErC,GAAIW,SAAS,CAAE,CACb,mBACET,IAAA,QAAKU,SAAS,CAAC,0DAA0D,CAAAL,QAAA,cACvEH,KAAA,QAAKQ,SAAS,CAAC,aAAa,CAAAL,QAAA,eAC1BL,IAAA,QAAKU,SAAS,CAAC,wEAAwE,CAAM,CAAC,cAC9FV,IAAA,MAAGU,SAAS,CAAC,oBAAoB,CAAAL,QAAA,CAAC,4BAA0B,CAAG,CAAC,EAC7D,CAAC,CACH,CAAC,CAEV,CAEA,GAAIE,WAAW,EAAI,CAACC,IAAI,CAAE,CACxB,mBAAOR,IAAA,CAACH,QAAQ,EAACc,EAAE,CAAEL,UAAW,CAACM,OAAO,MAAE,CAAC,CAC7C,CAEA,GAAI,CAACL,WAAW,EAAIC,IAAI,CAAE,CACxB;AACA,KAAM,CAAAK,aAAa,CAAGL,IAAI,CAACM,QAAQ,GAAK,SAAS,CAAG,oBAAoB,CAAG,kBAAkB,CAC7F,mBAAOd,IAAA,CAACH,QAAQ,EAACc,EAAE,CAAEE,aAAc,CAACD,OAAO,MAAE,CAAC,CAChD,CAEA,MAAO,CAAAP,QAAQ,CACjB,CAAC,CAED,cAAe,CAAAF,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}