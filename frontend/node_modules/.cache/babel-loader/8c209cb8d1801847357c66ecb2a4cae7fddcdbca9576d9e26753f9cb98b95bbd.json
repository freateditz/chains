{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useAuth}from'../contexts/AuthContext';import{FIRStorage}from'../utils/firStorage';import{useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BLOCKCHAIN_BACKEND_URL=process.env.REACT_APP_BLOCKCHAIN_BACKEND_URL||'http://localhost:4000';const AI_SERVICE_URL=process.env.REACT_APP_AI_SERVICE_URL||'http://localhost:5050';const FileFIR=()=>{const navigate=useNavigate();const{user}=useAuth();const[currentStep,setCurrentStep]=useState(1);const[isSubmitting,setIsSubmitting]=useState(false);const[formData,setFormData]=useState({// Personal Information - Pre-filled from logged in user\nfullName:'',fatherName:'',age:'',gender:'',occupation:'',address:'',city:'',state:'',pincode:'',phone:'',email:(user===null||user===void 0?void 0:user.email)||'',idType:'',idNumber:'',// Incident Details\nincidentType:'',incidentDate:'',incidentTime:'',incidentLocation:'',incidentDescription:'',suspectDetails:'',witnessDetails:'',evidenceDescription:'',// Additional Information\npreviousComplaint:false,previousComplaintDetails:'',preferredLanguage:'english',// Media Files\nmediaFiles:[]});const[uploadingFiles,setUploadingFiles]=useState(false);const incidentTypes=['Theft/Burglary','Fraud/Cybercrime','Assault/Violence','Property Dispute','Missing Person','Domestic Violence','Road Accident','Harassment','Kidnapping','Murder','Other'];const states=['Andhra Pradesh','Arunachal Pradesh','Assam','Bihar','Chhattisgarh','delhi','Goa','Gujarat','Haryana','Himachal Pradesh','Jharkhand','Karnataka','Kerala','Madhya Pradesh','Maharashtra','Manipur','Meghalaya','Mizoram','Nagaland','Odisha','Punjab','Rajasthan','Sikkim','Tamil Nadu','Telangana','Tripura','Uttar Pradesh','Uttarakhand','West Bengal'];const handleInputChange=e=>{const{name,value,type,checked}=e.target;// For phone number, only allow digits\nif(name==='phone'){const numericValue=value.replace(/\\D/g,'');if(numericValue.length<=10){setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:numericValue}));}return;}setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:type==='checkbox'?checked:value}));};// Handle file upload\nconst handleFileUpload=async e=>{const files=Array.from(e.target.files);if(files.length===0)return;setUploadingFiles(true);const filePromises=files.map(file=>{return new Promise((resolve,reject)=>{// Check file size (max 5MB per file)\nif(file.size>5*1024*1024){alert(\"File \".concat(file.name,\" is too large. Maximum size is 5MB.\"));resolve(null);return;}// Check file type\nconst allowedTypes=['image/jpeg','image/jpg','image/png','image/gif','video/mp4','video/avi','video/mov','video/wmv','application/pdf','application/msword','application/vnd.openxmlformats-officedocument.wordprocessingml.document'];if(!allowedTypes.includes(file.type)){alert(\"File \".concat(file.name,\" has unsupported format. Please upload images, videos, or documents only.\"));resolve(null);return;}const reader=new FileReader();reader.onload=event=>{resolve({name:file.name,type:file.type,size:file.size,data:event.target.result,// This will be base64\nuploadDate:new Date().toISOString()});};reader.onerror=()=>{alert(\"Error reading file \".concat(file.name));resolve(null);};reader.readAsDataURL(file);});});try{const results=await Promise.all(filePromises);const validFiles=results.filter(file=>file!==null);setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{mediaFiles:[...prev.mediaFiles,...validFiles]}));if(validFiles.length>0){alert(\"Successfully uploaded \".concat(validFiles.length,\" file(s)\"));}}catch(error){alert('Error uploading files. Please try again.');console.error('File upload error:',error);}finally{setUploadingFiles(false);e.target.value='';// Clear the input\n}};// Remove uploaded file\nconst removeFile=index=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{mediaFiles:prev.mediaFiles.filter((_,i)=>i!==index)}));};// Format file size for display\nconst formatFileSize=bytes=>{if(bytes<1024)return bytes+' B';if(bytes<1048576)return Math.round(bytes/1024)+' KB';return Math.round(bytes/1048576)+' MB';};const validateStep=step=>{const errors=[];if(step===1){if(!formData.fullName.trim())errors.push('Full Name is required');if(!formData.fatherName.trim())errors.push('Father\\'s Name is required');if(!formData.age||formData.age<1||formData.age>120)errors.push('Valid age is required');if(!formData.gender)errors.push('Gender is required');if(!formData.phone.trim())errors.push('Phone number is required');if(formData.phone&&!/^[6-9]\\d{9}$/.test(formData.phone))errors.push('Valid Indian phone number is required');if(!formData.address.trim())errors.push('Address is required');if(!formData.city.trim())errors.push('City is required');if(!formData.state)errors.push('State is required');if(!formData.pincode.trim())errors.push('Pincode is required');if(formData.pincode&&!/^\\d{6}$/.test(formData.pincode))errors.push('Valid 6-digit pincode is required');if(!formData.idType)errors.push('ID Type is required');if(!formData.idNumber.trim())errors.push('ID Number is required');if(formData.email&&!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email))errors.push('Valid email address is required');}if(step===2){if(!formData.incidentType)errors.push('Incident type is required');if(!formData.incidentDate)errors.push('Incident date is required');if(!formData.incidentLocation.trim())errors.push('Incident location is required');if(!formData.incidentDescription.trim())errors.push('Incident description is required');if(formData.incidentDescription.trim().length<20)errors.push('Incident description must be at least 20 characters');}return errors;};const handleNext=()=>{const errors=validateStep(currentStep);if(errors.length>0){alert('Please fix the following errors:\\n\\n'+errors.join('\\n'));return;}if(currentStep<4){setCurrentStep(currentStep+1);}};const handlePrev=()=>{if(currentStep>1){setCurrentStep(currentStep-1);}};const handleSubmit=async()=>{const allErrors=[];for(let step=1;step<=3;step++){const stepErrors=validateStep(step);allErrors.push(...stepErrors);}if(allErrors.length>0){alert('Please fix the following errors:\\n\\n'+allErrors.join('\\n'));return;}setIsSubmitting(true);let severity=1;let urgencyLevel='low';console.log(\"Sending to AI:\",formData.incidentDescription);try{const airesponse=await axios.post(\"\".concat(AI_SERVICE_URL,\"/classify\"),{incidentDescription:formData.incidentDescription||''});console.log(\"AI Raw Response:\",airesponse.data);const priority=airesponse.data.priority.toLowerCase();console.log(\"Parsed priority:\",priority);if(priority==='high'){severity=3;urgencyLevel='high';}else if(priority==='medium'){severity=2;urgencyLevel='medium';}else{severity=1;urgencyLevel='low';}console.log(\"Final severity calculated:\",severity);}catch(AIerror){console.log(\"AI Response Error:\",AIerror.message);severity=1;urgencyLevel='low';console.log(\"Using default severity due to AI error:\",severity);}const firDataWithUser=_objectSpread(_objectSpread({},formData),{},{severity,urgencyLevel,filedByUser:{email:user.email,fullName:user.fullName||user.email,userType:user.userType,loginTime:user.loginTime}});console.log(\"Saving FIR locally:\",firDataWithUser);FIRStorage.saveFIR(firDataWithUser);try{const response=await fetch(\"\".concat(BLOCKCHAIN_BACKEND_URL,\"/api/uploadFIR\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(firDataWithUser)});if(!response.ok){// If server returned non-200 status, read text and show\nconst errorText=await response.text();throw new Error(\"Server error \".concat(response.status,\": \").concat(errorText));}const result=await response.json();console.log(\"Blockchain response:\",result);if(result.success){alert(\"\\u2705 FIR SUBMITTED SUCCESSFULLY!\\nSeverity: \".concat(severity,\"\\nTransaction Hash: \").concat(result.txHash,\"\\nIPFS Hash: \").concat(result.ipfsHash));// Reset form after success:\nsetFormData({fullName:'',fatherName:'',age:'',gender:'',occupation:'',address:'',city:'',state:'',pincode:'',phone:'',email:(user===null||user===void 0?void 0:user.email)||'',idType:'',idNumber:'',incidentType:'',incidentDate:'',incidentTime:'',incidentLocation:'',incidentDescription:'',suspectDetails:'',witnessDetails:'',evidenceDescription:'',previousComplaint:false,previousComplaintDetails:'',preferredLanguage:'english',mediaFiles:[]});setCurrentStep(1);setTimeout(()=>{navigate('/citizen-dashboard');},1000);}else{alert('❌ FIR submission failed: '+(result.message||'Unknown error.'));}}catch(err){console.error('Error:',err);alert('❌ Network or server error: '+err.message);}setIsSubmitting(false);};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-12\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-gray-900 mb-4\",children:\"File FIR Online\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-gray-600\",children:\"Secure, Fast, and Transparent\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 inline-flex items-center px-6 py-3 bg-green-50 border border-green-200 rounded-lg\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-green-600 mr-2\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\",clipRule:\"evenodd\"})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-green-800 font-medium\",children:[\"Authenticated as: \",(user===null||user===void 0?void 0:user.fullName)||(user===null||user===void 0?void 0:user.email)]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center mb-8\",children:[1,2,3,4].map(step=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm \".concat(currentStep>=step?'bg-blue-600 text-white':'bg-gray-300 text-gray-600'),children:step}),step<4&&/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-1 mx-2 \".concat(currentStep>step?'bg-blue-600':'bg-gray-300')})]},step))}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl shadow-lg p-8\",children:/*#__PURE__*/_jsxs(\"div\",{children:[currentStep===1&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-900 mb-6\",children:\"Personal Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Full Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"fullName\",value:formData.fullName,onChange:handleInputChange,className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Enter your full name\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Father's Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"fatherName\",value:formData.fatherName,onChange:handleInputChange,className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Enter father's name\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Age *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"age\",value:formData.age,onChange:handleInputChange,className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Enter your age\",min:\"1\",max:\"120\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Gender *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"gender\",value:formData.gender,onChange:handleInputChange,className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Gender\"}),/*#__PURE__*/_jsx(\"option\",{value:\"male\",children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{value:\"female\",children:\"Female\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Other\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Occupation\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"occupation\",value:formData.occupation,onChange:handleInputChange,className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Enter your occupation\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Phone Number *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"phone\",value:formData.phone,onChange:handleInputChange,className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Enter 10-digit phone number\",maxLength:\"10\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Email Address (Pre-filled from login)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleInputChange,className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50\",placeholder:\"Enter email address\",readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Address *\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"address\",value:formData.address,onChange:handleInputChange,rows:\"3\",className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Enter complete address\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"City *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"city\",value:formData.city,onChange:handleInputChange,className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Enter city\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"State *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"state\",value:formData.state,onChange:handleInputChange,className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select State\"}),states.map(state=>/*#__PURE__*/_jsx(\"option\",{value:state,children:state},state))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Pincode *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"pincode\",value:formData.pincode,onChange:handleInputChange,className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Enter pincode\",pattern:\"[0-9]{6}\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"ID Type *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"idType\",value:formData.idType,onChange:handleInputChange,className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select ID Type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"aadhaar\",children:\"Aadhaar Card\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pan\",children:\"PAN Card\"}),/*#__PURE__*/_jsx(\"option\",{value:\"voter\",children:\"Voter ID\"}),/*#__PURE__*/_jsx(\"option\",{value:\"driving\",children:\"Driving License\"}),/*#__PURE__*/_jsx(\"option\",{value:\"passport\",children:\"Passport\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"ID Number *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"idNumber\",value:formData.idNumber,onChange:handleInputChange,className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Enter ID number\",required:true})]})]})]}),currentStep===2&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-900 mb-6\",children:\"Incident Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Type of Incident *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"incidentType\",value:formData.incidentType,onChange:handleInputChange,className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Incident Type\"}),incidentTypes.map(type=>/*#__PURE__*/_jsx(\"option\",{value:type,children:type},type))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Date of Incident *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"incidentDate\",value:formData.incidentDate,onChange:handleInputChange,className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",max:new Date().toISOString().split('T')[0],required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Time of Incident\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",name:\"incidentTime\",value:formData.incidentTime,onChange:handleInputChange,className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Location of Incident *\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"incidentLocation\",value:formData.incidentLocation,onChange:handleInputChange,rows:\"3\",className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Provide detailed location where the incident occurred\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Incident Description *\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"incidentDescription\",value:formData.incidentDescription,onChange:handleInputChange,rows:\"5\",className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Provide a detailed description of what happened. Include all relevant facts and circumstances.\",required:true})]})]})]}),currentStep===3&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-900 mb-6\",children:\"Additional Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Suspect Details (if known)\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"suspectDetails\",value:formData.suspectDetails,onChange:handleInputChange,rows:\"4\",className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Provide any information about the suspect(s) - name, description, address, etc.\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Witness Details (if any)\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"witnessDetails\",value:formData.witnessDetails,onChange:handleInputChange,rows:\"4\",className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Provide witness information - names, contact details, what they witnessed\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Evidence Description\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"evidenceDescription\",value:formData.evidenceDescription,onChange:handleInputChange,rows:\"4\",className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Describe any evidence available - photos, videos, documents, physical evidence, etc.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-6 border-2 border-dashed border-gray-300\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"\\uD83D\\uDCCE Upload Evidence Files\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"Upload photos, videos, or documents related to the incident. Supported formats: JPG, PNG, GIF, MP4, AVI, PDF, DOC, DOCX (Max 5MB per file)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-full\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex flex-col items-center justify-center w-full h-32 border-2 border-blue-300 border-dashed rounded-lg cursor-pointer bg-blue-50 hover:bg-blue-100 transition-colors\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center pt-5 pb-6\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 mb-4 text-blue-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-2 text-sm text-blue-700\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Click to upload\"}),\" or drag and drop\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-500\",children:\"Images, Videos, Documents (MAX 5MB each)\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"hidden\",multiple:true,accept:\"image/*,video/*,.pdf,.doc,.docx\",onChange:handleFileUpload,disabled:uploadingFiles})]})}),uploadingFiles&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex items-center justify-center\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin h-5 w-5 text-blue-500 mr-2\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\",className:\"opacity-25\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\",className:\"opacity-75\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600\",children:\"Uploading files...\"})]}),formData.mediaFiles.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"font-semibold text-gray-900 mb-3\",children:[\"Uploaded Files (\",formData.mediaFiles.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:formData.mediaFiles.map((file,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between bg-white p-3 rounded-lg border\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-shrink-0 mr-3\",children:[file.type.startsWith('image/')&&/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-green-500\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z\",clipRule:\"evenodd\"})}),file.type.startsWith('video/')&&/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-blue-500\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z\"})}),file.type.includes('pdf')&&/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-red-500\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z\",clipRule:\"evenodd\"})}),(file.type.includes('doc')||file.type.includes('word'))&&/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-blue-600\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z\",clipRule:\"evenodd\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:file.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:formatFileSize(file.size)})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeFile(index),className:\"text-red-500 hover:text-red-700 p-1\",title:\"Remove file\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",clipRule:\"evenodd\"})})})]},index))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"previousComplaint\",checked:formData.previousComplaint,onChange:handleInputChange,className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"label\",{className:\"ml-2 block text-sm text-gray-700\",children:\"Have you filed a complaint regarding this matter before?\"})]}),formData.previousComplaint&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Previous Complaint Details\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"previousComplaintDetails\",value:formData.previousComplaintDetails,onChange:handleInputChange,rows:\"3\",className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Provide details about the previous complaint - when, where, complaint number, etc.\"})]})]})]}),currentStep===4&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-900 mb-6\",children:\"Review Your FIR\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 border border-green-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-green-900 mb-2\",children:\"Filed by Authenticated User\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-green-700\",children:[\"Email: \",user===null||user===void 0?void 0:user.email]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-green-700\",children:[\"Name: \",(user===null||user===void 0?void 0:user.fullName)||'Not provided']}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-green-700\",children:[\"User Type: \",user===null||user===void 0?void 0:user.userType]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-900\",children:\"Personal Information\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Name: \",formData.fullName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Age: \",formData.age]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Phone: \",formData.phone]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"City: \",formData.city,\", \",formData.state]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-900\",children:\"Incident Information\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Type: \",formData.incidentType]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Date: \",formData.incidentDate]}),formData.incidentTime&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Time: \",formData.incidentTime]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-900\",children:\"Incident Description\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:formData.incidentDescription})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-900\",children:\"Location\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:formData.incidentLocation})]}),formData.mediaFiles.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-900 mb-2\",children:\"Attached Evidence Files\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-2\",children:formData.mediaFiles.map((file,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center bg-white p-2 rounded border\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-shrink-0 mr-2\",children:[file.type.startsWith('image/')&&/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-green-500\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z\",clipRule:\"evenodd\"})}),file.type.startsWith('video/')&&/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-blue-500\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z\"})}),(file.type.includes('pdf')||file.type.includes('doc'))&&/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-red-500\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z\",clipRule:\"evenodd\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0 flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-medium text-gray-900 truncate\",children:file.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:formatFileSize(file.size)})]})]},index))})]}),formData.suspectDetails&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-900\",children:\"Suspect Details\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:formData.suspectDetails})]}),formData.witnessDetails&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-900\",children:\"Witness Details\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:formData.witnessDetails})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-blue-600 mt-0.5 mr-3\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\",clipRule:\"evenodd\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-blue-900\",children:\"Important Notice\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-700 mt-1\",children:\"By submitting this FIR, you confirm that all information provided is true and accurate to the best of your knowledge. False information in an FIR is a punishable offense under Indian law.\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-50 border border-green-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-green-600 mt-0.5 mr-3\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\",clipRule:\"evenodd\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-green-900\",children:\"Ready to Submit\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-700 mt-1\",children:\"Please review all information carefully. Click the \\\"Submit FIR\\\" button below to file your complaint. You will receive a unique FIR number for tracking purposes.\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mt-8 pt-8 border-t border-gray-200\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:handlePrev,disabled:currentStep===1,className:\"flex items-center px-6 py-3 rounded-lg font-medium transition-all duration-200 \".concat(currentStep===1?'bg-gray-100 text-gray-400 cursor-not-allowed':'bg-gray-200 text-gray-700 hover:bg-gray-300'),children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 mr-2\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 19l-7-7 7-7\"})}),\"Previous\"]}),currentStep<4?/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:handleNext,className:\"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200\",children:[\"Next\",/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 ml-2\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 5l7 7-7 7\"})})]}):/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleSubmit,disabled:isSubmitting,className:\"flex items-center px-8 py-3 rounded-lg font-medium transition-all duration-200 \".concat(isSubmitting?'bg-gray-400 cursor-not-allowed':'bg-green-600 hover:bg-green-700',\" text-white\"),children:isSubmitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin h-5 w-5 mr-2\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\",className:\"opacity-25\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\",className:\"opacity-75\"})]}),\"Submitting...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[\"Submit FIR\",/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 ml-2\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})})]})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-12 bg-blue-50 rounded-xl p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6 text-blue-600 mt-1 mr-3 flex-shrink-0\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-blue-900\",children:\"Need Help?\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-700 mt-1\",children:[\"If you need assistance filling out this form, please call our helpline at \",/*#__PURE__*/_jsx(\"strong\",{children:\"1800-XXX-XXXX\"}),\" or visit your nearest police station. Our support team is available 24/7 to help you.\"]})]})]})})]})});};export default FileFIR;","map":{"version":3,"names":["React","useState","useAuth","FIRStorage","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BLOCKCHAIN_BACKEND_URL","process","env","REACT_APP_BLOCKCHAIN_BACKEND_URL","AI_SERVICE_URL","REACT_APP_AI_SERVICE_URL","FileFIR","navigate","user","currentStep","setCurrentStep","isSubmitting","setIsSubmitting","formData","setFormData","fullName","fatherName","age","gender","occupation","address","city","state","pincode","phone","email","idType","idNumber","incidentType","incidentDate","incidentTime","incidentLocation","incidentDescription","suspectDetails","witnessDetails","evidenceDescription","previousComplaint","previousComplaintDetails","preferredLanguage","mediaFiles","uploadingFiles","setUploadingFiles","incidentTypes","states","handleInputChange","e","name","value","type","checked","target","numericValue","replace","length","prev","_objectSpread","handleFileUpload","files","Array","from","filePromises","map","file","Promise","resolve","reject","size","alert","concat","allowedTypes","includes","reader","FileReader","onload","event","data","result","uploadDate","Date","toISOString","onerror","readAsDataURL","results","all","validFiles","filter","error","console","removeFile","index","_","i","formatFileSize","bytes","Math","round","validateStep","step","errors","trim","push","test","handleNext","join","handlePrev","handleSubmit","allErrors","stepErrors","severity","urgencyLevel","log","airesponse","post","priority","toLowerCase","AIerror","message","firDataWithUser","filedByUser","userType","loginTime","saveFIR","response","fetch","method","headers","body","JSON","stringify","ok","errorText","text","Error","status","json","success","txHash","ipfsHash","setTimeout","err","className","children","fill","viewBox","fillRule","d","clipRule","onChange","placeholder","required","min","max","maxLength","readOnly","rows","pattern","split","stroke","strokeLinecap","strokeLinejoin","strokeWidth","multiple","accept","disabled","cx","cy","r","startsWith","onClick","title"],"sources":["/app/frontend/src/pages/FileFIR.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { FIRStorage } from '../utils/firStorage';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst BLOCKCHAIN_BACKEND_URL = process.env.REACT_APP_BLOCKCHAIN_BACKEND_URL || 'http://localhost:4000';\nconst AI_SERVICE_URL = process.env.REACT_APP_AI_SERVICE_URL || 'http://localhost:5050';\n\nconst FileFIR = () => {\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [currentStep, setCurrentStep] = useState(1);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [formData, setFormData] = useState({\n    // Personal Information - Pre-filled from logged in user\n    fullName: '',\n    fatherName: '',\n    age: '',\n    gender: '',\n    occupation: '',\n    address: '',\n    city: '',\n    state: '',\n    pincode: '',\n    phone: '',\n    email: user?.email || '',\n    idType: '',\n    idNumber: '',\n\n    // Incident Details\n    incidentType: '',\n    incidentDate: '',\n    incidentTime: '',\n    incidentLocation: '',\n    incidentDescription: '',\n    suspectDetails: '',\n    witnessDetails: '',\n    evidenceDescription: '',\n\n    // Additional Information\n    previousComplaint: false,\n    previousComplaintDetails: '',\n    preferredLanguage: 'english',\n\n    // Media Files\n    mediaFiles: []\n  });\n\n  const [uploadingFiles, setUploadingFiles] = useState(false);\n\n  const incidentTypes = [\n    'Theft/Burglary',\n    'Fraud/Cybercrime',\n    'Assault/Violence',\n    'Property Dispute',\n    'Missing Person',\n    'Domestic Violence',\n    'Road Accident',\n    'Harassment',\n    'Kidnapping',\n    'Murder',\n    'Other'\n  ];\n\n  const states = [\n    'Andhra Pradesh', 'Arunachal Pradesh', 'Assam', 'Bihar', 'Chhattisgarh', 'delhi',\n    'Goa', 'Gujarat', 'Haryana', 'Himachal Pradesh', 'Jharkhand', 'Karnataka',\n    'Kerala', 'Madhya Pradesh', 'Maharashtra', 'Manipur', 'Meghalaya', 'Mizoram',\n    'Nagaland', 'Odisha', 'Punjab', 'Rajasthan', 'Sikkim', 'Tamil Nadu',\n    'Telangana', 'Tripura', 'Uttar Pradesh', 'Uttarakhand', 'West Bengal'\n  ];\n\n  const handleInputChange = (e) => {\n    const { name, value, type, checked } = e.target;\n\n    // For phone number, only allow digits\n    if (name === 'phone') {\n      const numericValue = value.replace(/\\D/g, '');\n      if (numericValue.length <= 10) {\n        setFormData(prev => ({\n          ...prev,\n          [name]: numericValue\n        }));\n      }\n      return;\n    }\n\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n  };\n\n  // Handle file upload\n  const handleFileUpload = async (e) => {\n    const files = Array.from(e.target.files);\n    if (files.length === 0) return;\n\n    setUploadingFiles(true);\n\n    const filePromises = files.map(file => {\n      return new Promise((resolve, reject) => {\n        // Check file size (max 5MB per file)\n        if (file.size > 5 * 1024 * 1024) {\n          alert(`File ${file.name} is too large. Maximum size is 5MB.`);\n          resolve(null);\n          return;\n        }\n\n        // Check file type\n        const allowedTypes = [\n          'image/jpeg', 'image/jpg', 'image/png', 'image/gif',\n          'video/mp4', 'video/avi', 'video/mov', 'video/wmv',\n          'application/pdf', 'application/msword',\n          'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n        ];\n\n        if (!allowedTypes.includes(file.type)) {\n          alert(`File ${file.name} has unsupported format. Please upload images, videos, or documents only.`);\n          resolve(null);\n          return;\n        }\n\n        const reader = new FileReader();\n        reader.onload = (event) => {\n          resolve({\n            name: file.name,\n            type: file.type,\n            size: file.size,\n            data: event.target.result, // This will be base64\n            uploadDate: new Date().toISOString()\n          });\n        };\n        reader.onerror = () => {\n          alert(`Error reading file ${file.name}`);\n          resolve(null);\n        };\n        reader.readAsDataURL(file);\n      });\n    });\n\n    try {\n      const results = await Promise.all(filePromises);\n      const validFiles = results.filter(file => file !== null);\n\n      setFormData(prev => ({\n        ...prev,\n        mediaFiles: [...prev.mediaFiles, ...validFiles]\n      }));\n\n      if (validFiles.length > 0) {\n        alert(`Successfully uploaded ${validFiles.length} file(s)`);\n      }\n    } catch (error) {\n      alert('Error uploading files. Please try again.');\n      console.error('File upload error:', error);\n    } finally {\n      setUploadingFiles(false);\n      e.target.value = ''; // Clear the input\n    }\n  };\n\n  // Remove uploaded file\n  const removeFile = (index) => {\n    setFormData(prev => ({\n      ...prev,\n      mediaFiles: prev.mediaFiles.filter((_, i) => i !== index)\n    }));\n  };\n\n  // Format file size for display\n  const formatFileSize = (bytes) => {\n    if (bytes < 1024) return bytes + ' B';\n    if (bytes < 1048576) return Math.round(bytes / 1024) + ' KB';\n    return Math.round(bytes / 1048576) + ' MB';\n  };\n\n  const validateStep = (step) => {\n    const errors = [];\n\n    if (step === 1) {\n      if (!formData.fullName.trim()) errors.push('Full Name is required');\n      if (!formData.fatherName.trim()) errors.push('Father\\'s Name is required');\n      if (!formData.age || formData.age < 1 || formData.age > 120) errors.push('Valid age is required');\n      if (!formData.gender) errors.push('Gender is required');\n      if (!formData.phone.trim()) errors.push('Phone number is required');\n      if (formData.phone && !/^[6-9]\\d{9}$/.test(formData.phone)) errors.push('Valid Indian phone number is required');\n      if (!formData.address.trim()) errors.push('Address is required');\n      if (!formData.city.trim()) errors.push('City is required');\n      if (!formData.state) errors.push('State is required');\n      if (!formData.pincode.trim()) errors.push('Pincode is required');\n      if (formData.pincode && !/^\\d{6}$/.test(formData.pincode)) errors.push('Valid 6-digit pincode is required');\n      if (!formData.idType) errors.push('ID Type is required');\n      if (!formData.idNumber.trim()) errors.push('ID Number is required');\n      if (formData.email && !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) errors.push('Valid email address is required');\n    }\n\n    if (step === 2) {\n      if (!formData.incidentType) errors.push('Incident type is required');\n      if (!formData.incidentDate) errors.push('Incident date is required');\n      if (!formData.incidentLocation.trim()) errors.push('Incident location is required');\n      if (!formData.incidentDescription.trim()) errors.push('Incident description is required');\n      if (formData.incidentDescription.trim().length < 20) errors.push('Incident description must be at least 20 characters');\n    }\n\n    return errors;\n  };\n\n  const handleNext = () => {\n    const errors = validateStep(currentStep);\n\n    if (errors.length > 0) {\n      alert('Please fix the following errors:\\n\\n' + errors.join('\\n'));\n      return;\n    }\n\n    if (currentStep < 4) {\n      setCurrentStep(currentStep + 1);\n    }\n  };\n\n  const handlePrev = () => {\n    if (currentStep > 1) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n  const handleSubmit = async () => {\n    const allErrors = [];\n    for (let step = 1; step <= 3; step++) {\n      const stepErrors = validateStep(step);\n      allErrors.push(...stepErrors);\n    }\n\n    if (allErrors.length > 0) {\n      alert('Please fix the following errors:\\n\\n' + allErrors.join('\\n'));\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    let severity = 1;\n    let urgencyLevel = 'low';\n    console.log(\"Sending to AI:\", formData.incidentDescription);\n\n\n    try {\n      const airesponse = await axios.post(`${AI_SERVICE_URL}/classify`,\n        {incidentDescription : formData.incidentDescription || '' }\n      )\n      console.log(\"AI Raw Response:\", airesponse.data);\n\n      const priority = airesponse.data.priority.toLowerCase();\n      console.log(\"Parsed priority:\", priority);\n\n      if (priority === 'high') {\n        severity = 3;\n        urgencyLevel = 'high';\n      } else if (priority === 'medium') {\n        severity = 2;\n        urgencyLevel = 'medium';\n      } else {\n        severity = 1;\n        urgencyLevel = 'low';\n      }\n      \n      console.log(\"Final severity calculated:\", severity);\n    } catch(AIerror){\n      console.log(\"AI Response Error:\", AIerror.message);\n      severity = 1;\n      urgencyLevel = 'low';\n      console.log(\"Using default severity due to AI error:\", severity);\n    }\n\n    const firDataWithUser = {\n      ...formData,\n      severity,\n      urgencyLevel,\n      filedByUser: {\n        email: user.email,\n        fullName: user.fullName || user.email,\n        userType: user.userType,\n        loginTime: user.loginTime\n      }\n    };\n    console.log(\"Saving FIR locally:\", firDataWithUser);\n\n\n    FIRStorage.saveFIR(firDataWithUser);\n\n\n    try {\n      const response = await fetch(`${BLOCKCHAIN_BACKEND_URL}/api/uploadFIR`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(firDataWithUser)\n      });\n\n      if (!response.ok) {\n        // If server returned non-200 status, read text and show\n        const errorText = await response.text();\n        throw new Error(`Server error ${response.status}: ${errorText}`);\n      }\n\n      const result = await response.json();\n      console.log(\"Blockchain response:\", result);\n\n      if (result.success) {\n        alert(`✅ FIR SUBMITTED SUCCESSFULLY!\\nSeverity: ${severity}\\nTransaction Hash: ${result.txHash}\\nIPFS Hash: ${result.ipfsHash}`);\n\n        // Reset form after success:\n        setFormData({\n          fullName: '',\n          fatherName: '',\n          age: '',\n          gender: '',\n          occupation: '',\n          address: '',\n          city: '',\n          state: '',\n          pincode: '',\n          phone: '',\n          email: user?.email || '',\n          idType: '',\n          idNumber: '',\n          incidentType: '',\n          incidentDate: '',\n          incidentTime: '',\n          incidentLocation: '',\n          incidentDescription: '',\n          suspectDetails: '',\n          witnessDetails: '',\n          evidenceDescription: '',\n          previousComplaint: false,\n          previousComplaintDetails: '',\n          preferredLanguage: 'english',\n          mediaFiles: []\n        });\n\n        setCurrentStep(1);\n\n        setTimeout(() => {\n          navigate('/citizen-dashboard')\n        }, 1000);\n\n      } else {\n        alert('❌ FIR submission failed: ' + (result.message || 'Unknown error.'));\n      }\n    } catch (err) {\n      console.error('Error:', err);\n      alert('❌ Network or server error: ' + err.message);\n    }\n\n    setIsSubmitting(false);\n  };\n\n\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-12\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">File FIR Online</h1>\n          <p className=\"text-xl text-gray-600\">Secure, Fast, and Transparent</p>\n\n          {/* User Authentication Status */}\n          <div className=\"mt-6 inline-flex items-center px-6 py-3 bg-green-50 border border-green-200 rounded-lg\">\n            <svg className=\"w-5 h-5 text-green-600 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n            </svg>\n            <span className=\"text-green-800 font-medium\">\n              Authenticated as: {user?.fullName || user?.email}\n            </span>\n          </div>\n        </div>\n\n        {/* Step Indicator */}\n        <div className=\"flex items-center justify-center mb-8\">\n          {[1, 2, 3, 4].map((step) => (\n            <div key={step} className=\"flex items-center\">\n              <div className={`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm ${currentStep >= step\n                  ? 'bg-blue-600 text-white'\n                  : 'bg-gray-300 text-gray-600'\n                }`}>\n                {step}\n              </div>\n              {step < 4 && (\n                <div className={`w-12 h-1 mx-2 ${currentStep > step ? 'bg-blue-600' : 'bg-gray-300'\n                  }`}></div>\n              )}\n            </div>\n          ))}\n        </div>\n\n        <div className=\"bg-white rounded-2xl shadow-lg p-8\">\n          {/* Form content without form tag around steps to prevent auto-submission */}\n          <div>\n            {/* Step 1: Personal Information */}\n            {currentStep === 1 && (\n              <div className=\"space-y-6\">\n                <h3 className=\"text-2xl font-bold text-gray-900 mb-6\">Personal Information</h3>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Full Name *</label>\n                    <input\n                      type=\"text\"\n                      name=\"fullName\"\n                      value={formData.fullName}\n                      onChange={handleInputChange}\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"Enter your full name\"\n                      required\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Father's Name *</label>\n                    <input\n                      type=\"text\"\n                      name=\"fatherName\"\n                      value={formData.fatherName}\n                      onChange={handleInputChange}\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"Enter father's name\"\n                      required\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Age *</label>\n                    <input\n                      type=\"number\"\n                      name=\"age\"\n                      value={formData.age}\n                      onChange={handleInputChange}\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"Enter your age\"\n                      min=\"1\"\n                      max=\"120\"\n                      required\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Gender *</label>\n                    <select\n                      name=\"gender\"\n                      value={formData.gender}\n                      onChange={handleInputChange}\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      required\n                    >\n                      <option value=\"\">Select Gender</option>\n                      <option value=\"male\">Male</option>\n                      <option value=\"female\">Female</option>\n                      <option value=\"other\">Other</option>\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Occupation</label>\n                    <input\n                      type=\"text\"\n                      name=\"occupation\"\n                      value={formData.occupation}\n                      onChange={handleInputChange}\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"Enter your occupation\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Phone Number *</label>\n                    <input\n                      type=\"tel\"\n                      name=\"phone\"\n                      value={formData.phone}\n                      onChange={handleInputChange}\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"Enter 10-digit phone number\"\n                      maxLength=\"10\"\n                      required\n                    />\n                  </div>\n                  <div className=\"md:col-span-2\">\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Email Address (Pre-filled from login)</label>\n                    <input\n                      type=\"email\"\n                      name=\"email\"\n                      value={formData.email}\n                      onChange={handleInputChange}\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50\"\n                      placeholder=\"Enter email address\"\n                      readOnly\n                    />\n                  </div>\n                  <div className=\"md:col-span-2\">\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Address *</label>\n                    <textarea\n                      name=\"address\"\n                      value={formData.address}\n                      onChange={handleInputChange}\n                      rows=\"3\"\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"Enter complete address\"\n                      required\n                    ></textarea>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">City *</label>\n                    <input\n                      type=\"text\"\n                      name=\"city\"\n                      value={formData.city}\n                      onChange={handleInputChange}\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"Enter city\"\n                      required\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">State *</label>\n                    <select\n                      name=\"state\"\n                      value={formData.state}\n                      onChange={handleInputChange}\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      required\n                    >\n                      <option value=\"\">Select State</option>\n                      {states.map(state => (\n                        <option key={state} value={state}>{state}</option>\n                      ))}\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Pincode *</label>\n                    <input\n                      type=\"text\"\n                      name=\"pincode\"\n                      value={formData.pincode}\n                      onChange={handleInputChange}\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"Enter pincode\"\n                      pattern=\"[0-9]{6}\"\n                      required\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">ID Type *</label>\n                    <select\n                      name=\"idType\"\n                      value={formData.idType}\n                      onChange={handleInputChange}\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      required\n                    >\n                      <option value=\"\">Select ID Type</option>\n                      <option value=\"aadhaar\">Aadhaar Card</option>\n                      <option value=\"pan\">PAN Card</option>\n                      <option value=\"voter\">Voter ID</option>\n                      <option value=\"driving\">Driving License</option>\n                      <option value=\"passport\">Passport</option>\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">ID Number *</label>\n                    <input\n                      type=\"text\"\n                      name=\"idNumber\"\n                      value={formData.idNumber}\n                      onChange={handleInputChange}\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"Enter ID number\"\n                      required\n                    />\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Step 2: Incident Details */}\n            {currentStep === 2 && (\n              <div className=\"space-y-6\">\n                <h3 className=\"text-2xl font-bold text-gray-900 mb-6\">Incident Details</h3>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Type of Incident *</label>\n                    <select\n                      name=\"incidentType\"\n                      value={formData.incidentType}\n                      onChange={handleInputChange}\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      required\n                    >\n                      <option value=\"\">Select Incident Type</option>\n                      {incidentTypes.map(type => (\n                        <option key={type} value={type}>{type}</option>\n                      ))}\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Date of Incident *</label>\n                    <input\n                      type=\"date\"\n                      name=\"incidentDate\"\n                      value={formData.incidentDate}\n                      onChange={handleInputChange}\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      max={new Date().toISOString().split('T')[0]}\n                      required\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Time of Incident</label>\n                    <input\n                      type=\"time\"\n                      name=\"incidentTime\"\n                      value={formData.incidentTime}\n                      onChange={handleInputChange}\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    />\n                  </div>\n                  <div className=\"md:col-span-2\">\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Location of Incident *</label>\n                    <textarea\n                      name=\"incidentLocation\"\n                      value={formData.incidentLocation}\n                      onChange={handleInputChange}\n                      rows=\"3\"\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"Provide detailed location where the incident occurred\"\n                      required\n                    ></textarea>\n                  </div>\n                  <div className=\"md:col-span-2\">\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Incident Description *</label>\n                    <textarea\n                      name=\"incidentDescription\"\n                      value={formData.incidentDescription}\n                      onChange={handleInputChange}\n                      rows=\"5\"\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"Provide a detailed description of what happened. Include all relevant facts and circumstances.\"\n                      required\n                    ></textarea>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Step 3: Additional Details */}\n            {currentStep === 3 && (\n              <div className=\"space-y-6\">\n                <h3 className=\"text-2xl font-bold text-gray-900 mb-6\">Additional Details</h3>\n                <div className=\"space-y-6\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Suspect Details (if known)</label>\n                    <textarea\n                      name=\"suspectDetails\"\n                      value={formData.suspectDetails}\n                      onChange={handleInputChange}\n                      rows=\"4\"\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"Provide any information about the suspect(s) - name, description, address, etc.\"\n                    ></textarea>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Witness Details (if any)</label>\n                    <textarea\n                      name=\"witnessDetails\"\n                      value={formData.witnessDetails}\n                      onChange={handleInputChange}\n                      rows=\"4\"\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"Provide witness information - names, contact details, what they witnessed\"\n                    ></textarea>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Evidence Description</label>\n                    <textarea\n                      name=\"evidenceDescription\"\n                      value={formData.evidenceDescription}\n                      onChange={handleInputChange}\n                      rows=\"4\"\n                      className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"Describe any evidence available - photos, videos, documents, physical evidence, etc.\"\n                    ></textarea>\n                  </div>\n\n                  {/* Media Upload Section */}\n                  <div className=\"bg-gray-50 rounded-lg p-6 border-2 border-dashed border-gray-300\">\n                    <h4 className=\"text-lg font-semibold text-gray-900 mb-4\">📎 Upload Evidence Files</h4>\n                    <p className=\"text-sm text-gray-600 mb-4\">\n                      Upload photos, videos, or documents related to the incident. Supported formats: JPG, PNG, GIF, MP4, AVI, PDF, DOC, DOCX (Max 5MB per file)\n                    </p>\n\n                    <div className=\"flex items-center justify-center w-full\">\n                      <label className=\"flex flex-col items-center justify-center w-full h-32 border-2 border-blue-300 border-dashed rounded-lg cursor-pointer bg-blue-50 hover:bg-blue-100 transition-colors\">\n                        <div className=\"flex flex-col items-center justify-center pt-5 pb-6\">\n                          <svg className=\"w-8 h-8 mb-4 text-blue-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n                          </svg>\n                          <p className=\"mb-2 text-sm text-blue-700\">\n                            <span className=\"font-semibold\">Click to upload</span> or drag and drop\n                          </p>\n                          <p className=\"text-xs text-blue-500\">Images, Videos, Documents (MAX 5MB each)</p>\n                        </div>\n                        <input\n                          type=\"file\"\n                          className=\"hidden\"\n                          multiple\n                          accept=\"image/*,video/*,.pdf,.doc,.docx\"\n                          onChange={handleFileUpload}\n                          disabled={uploadingFiles}\n                        />\n                      </label>\n                    </div>\n\n                    {uploadingFiles && (\n                      <div className=\"mt-4 flex items-center justify-center\">\n                        <svg className=\"animate-spin h-5 w-5 text-blue-500 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\">\n                          <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" className=\"opacity-25\"></circle>\n                          <path fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" className=\"opacity-75\"></path>\n                        </svg>\n                        <span className=\"text-blue-600\">Uploading files...</span>\n                      </div>\n                    )}\n\n                    {/* Display uploaded files */}\n                    {formData.mediaFiles.length > 0 && (\n                      <div className=\"mt-6\">\n                        <h5 className=\"font-semibold text-gray-900 mb-3\">Uploaded Files ({formData.mediaFiles.length})</h5>\n                        <div className=\"space-y-2\">\n                          {formData.mediaFiles.map((file, index) => (\n                            <div key={index} className=\"flex items-center justify-between bg-white p-3 rounded-lg border\">\n                              <div className=\"flex items-center\">\n                                <div className=\"flex-shrink-0 mr-3\">\n                                  {file.type.startsWith('image/') && (\n                                    <svg className=\"w-6 h-6 text-green-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                      <path fillRule=\"evenodd\" d=\"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z\" clipRule=\"evenodd\" />\n                                    </svg>\n                                  )}\n                                  {file.type.startsWith('video/') && (\n                                    <svg className=\"w-6 h-6 text-blue-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                      <path d=\"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z\" />\n                                    </svg>\n                                  )}\n                                  {file.type.includes('pdf') && (\n                                    <svg className=\"w-6 h-6 text-red-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                      <path fillRule=\"evenodd\" d=\"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z\" clipRule=\"evenodd\" />\n                                    </svg>\n                                  )}\n                                  {(file.type.includes('doc') || file.type.includes('word')) && (\n                                    <svg className=\"w-6 h-6 text-blue-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                      <path fillRule=\"evenodd\" d=\"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z\" clipRule=\"evenodd\" />\n                                    </svg>\n                                  )}\n                                </div>\n                                <div>\n                                  <p className=\"text-sm font-medium text-gray-900\">{file.name}</p>\n                                  <p className=\"text-xs text-gray-500\">{formatFileSize(file.size)}</p>\n                                </div>\n                              </div>\n                              <button\n                                type=\"button\"\n                                onClick={() => removeFile(index)}\n                                className=\"text-red-500 hover:text-red-700 p-1\"\n                                title=\"Remove file\"\n                              >\n                                <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                  <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n                                </svg>\n                              </button>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n\n                  <div className=\"flex items-center\">\n                    <input\n                      type=\"checkbox\"\n                      name=\"previousComplaint\"\n                      checked={formData.previousComplaint}\n                      onChange={handleInputChange}\n                      className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                    />\n                    <label className=\"ml-2 block text-sm text-gray-700\">\n                      Have you filed a complaint regarding this matter before?\n                    </label>\n                  </div>\n                  {formData.previousComplaint && (\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">Previous Complaint Details</label>\n                      <textarea\n                        name=\"previousComplaintDetails\"\n                        value={formData.previousComplaintDetails}\n                        onChange={handleInputChange}\n                        rows=\"3\"\n                        className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                        placeholder=\"Provide details about the previous complaint - when, where, complaint number, etc.\"\n                      ></textarea>\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n\n            {/* Step 4: Review */}\n            {currentStep === 4 && (\n              <div className=\"space-y-6\">\n                <h3 className=\"text-2xl font-bold text-gray-900 mb-6\">Review Your FIR</h3>\n\n                {/* User Authentication Info */}\n                <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n                  <h4 className=\"font-semibold text-green-900 mb-2\">Filed by Authenticated User</h4>\n                  <p className=\"text-sm text-green-700\">Email: {user?.email}</p>\n                  <p className=\"text-sm text-green-700\">Name: {user?.fullName || 'Not provided'}</p>\n                  <p className=\"text-sm text-green-700\">User Type: {user?.userType}</p>\n                </div>\n\n                <div className=\"bg-gray-50 rounded-lg p-6 space-y-4\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                      <h4 className=\"font-semibold text-gray-900\">Personal Information</h4>\n                      <p className=\"text-sm text-gray-600\">Name: {formData.fullName}</p>\n                      <p className=\"text-sm text-gray-600\">Age: {formData.age}</p>\n                      <p className=\"text-sm text-gray-600\">Phone: {formData.phone}</p>\n                      <p className=\"text-sm text-gray-600\">City: {formData.city}, {formData.state}</p>\n                    </div>\n                    <div>\n                      <h4 className=\"font-semibold text-gray-900\">Incident Information</h4>\n                      <p className=\"text-sm text-gray-600\">Type: {formData.incidentType}</p>\n                      <p className=\"text-sm text-gray-600\">Date: {formData.incidentDate}</p>\n                      {formData.incidentTime && (\n                        <p className=\"text-sm text-gray-600\">Time: {formData.incidentTime}</p>\n                      )}\n                    </div>\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold text-gray-900\">Incident Description</h4>\n                    <p className=\"text-sm text-gray-600\">{formData.incidentDescription}</p>\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold text-gray-900\">Location</h4>\n                    <p className=\"text-sm text-gray-600\">{formData.incidentLocation}</p>\n                  </div>\n\n                  {/* Show uploaded files */}\n                  {formData.mediaFiles.length > 0 && (\n                    <div>\n                      <h4 className=\"font-semibold text-gray-900 mb-2\">Attached Evidence Files</h4>\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2\">\n                        {formData.mediaFiles.map((file, index) => (\n                          <div key={index} className=\"flex items-center bg-white p-2 rounded border\">\n                            <div className=\"flex-shrink-0 mr-2\">\n                              {file.type.startsWith('image/') && (\n                                <svg className=\"w-4 h-4 text-green-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                  <path fillRule=\"evenodd\" d=\"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z\" clipRule=\"evenodd\" />\n                                </svg>\n                              )}\n                              {file.type.startsWith('video/') && (\n                                <svg className=\"w-4 h-4 text-blue-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                  <path d=\"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z\" />\n                                </svg>\n                              )}\n                              {(file.type.includes('pdf') || file.type.includes('doc')) && (\n                                <svg className=\"w-4 h-4 text-red-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                  <path fillRule=\"evenodd\" d=\"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z\" clipRule=\"evenodd\" />\n                                </svg>\n                              )}\n                            </div>\n                            <div className=\"min-w-0 flex-1\">\n                              <p className=\"text-xs font-medium text-gray-900 truncate\">{file.name}</p>\n                              <p className=\"text-xs text-gray-500\">{formatFileSize(file.size)}</p>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  {formData.suspectDetails && (\n                    <div>\n                      <h4 className=\"font-semibold text-gray-900\">Suspect Details</h4>\n                      <p className=\"text-sm text-gray-600\">{formData.suspectDetails}</p>\n                    </div>\n                  )}\n\n                  {formData.witnessDetails && (\n                    <div>\n                      <h4 className=\"font-semibold text-gray-900\">Witness Details</h4>\n                      <p className=\"text-sm text-gray-600\">{formData.witnessDetails}</p>\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                  <div className=\"flex items-start\">\n                    <svg className=\"h-5 w-5 text-blue-600 mt-0.5 mr-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\n                    </svg>\n                    <div>\n                      <h4 className=\"text-sm font-medium text-blue-900\">Important Notice</h4>\n                      <p className=\"text-sm text-blue-700 mt-1\">\n                        By submitting this FIR, you confirm that all information provided is true and accurate to the best of your knowledge.\n                        False information in an FIR is a punishable offense under Indian law.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n                  <div className=\"flex items-start\">\n                    <svg className=\"h-5 w-5 text-green-600 mt-0.5 mr-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                    </svg>\n                    <div>\n                      <h4 className=\"text-sm font-medium text-green-900\">Ready to Submit</h4>\n                      <p className=\"text-sm text-green-700 mt-1\">\n                        Please review all information carefully. Click the \"Submit FIR\" button below to file your complaint.\n                        You will receive a unique FIR number for tracking purposes.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Navigation Buttons */}\n            <div className=\"flex justify-between items-center mt-8 pt-8 border-t border-gray-200\">\n              <button\n                type=\"button\"\n                onClick={handlePrev}\n                disabled={currentStep === 1}\n                className={`flex items-center px-6 py-3 rounded-lg font-medium transition-all duration-200 ${currentStep === 1\n                    ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n                  }`}\n              >\n                <svg className=\"h-5 w-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n                </svg>\n                Previous\n              </button>\n\n              {currentStep < 4 ? (\n                <button\n                  type=\"button\"\n                  onClick={handleNext}\n                  className=\"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200\"\n                >\n                  Next\n                  <svg className=\"h-5 w-5 ml-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                  </svg>\n                </button>\n              ) : (\n                <button\n                  type=\"button\"\n                  onClick={handleSubmit}\n                  disabled={isSubmitting}\n                  className={`flex items-center px-8 py-3 rounded-lg font-medium transition-all duration-200 ${isSubmitting\n                      ? 'bg-gray-400 cursor-not-allowed'\n                      : 'bg-green-600 hover:bg-green-700'\n                    } text-white`}\n                >\n                  {isSubmitting ? (\n                    <>\n                      <svg className=\"animate-spin h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\">\n                        <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" className=\"opacity-25\"></circle>\n                        <path fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" className=\"opacity-75\"></path>\n                      </svg>\n                      Submitting...\n                    </>\n                  ) : (\n                    <>\n                      Submit FIR\n                      <svg className=\"h-5 w-5 ml-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      </svg>\n                    </>\n                  )}\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Help Section */}\n        <div className=\"mt-12 bg-blue-50 rounded-xl p-6\">\n          <div className=\"flex items-start\">\n            <svg className=\"h-6 w-6 text-blue-600 mt-1 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            <div>\n              <h3 className=\"text-lg font-semibold text-blue-900\">Need Help?</h3>\n              <p className=\"text-blue-700 mt-1\">\n                If you need assistance filling out this form, please call our helpline at <strong>1800-XXX-XXXX</strong> or\n                visit your nearest police station. Our support team is available 24/7 to help you.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FileFIR;\n"],"mappings":"kGAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,OAAO,KAAQ,yBAAyB,CACjD,OAASC,UAAU,KAAQ,qBAAqB,CAChD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE1B,KAAM,CAAAC,sBAAsB,CAAGC,OAAO,CAACC,GAAG,CAACC,gCAAgC,EAAI,uBAAuB,CACtG,KAAM,CAAAC,cAAc,CAAGH,OAAO,CAACC,GAAG,CAACG,wBAAwB,EAAI,uBAAuB,CAEtF,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAAAC,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEgB,IAAK,CAAC,CAAGlB,OAAO,CAAC,CAAC,CAC1B,KAAM,CAACmB,WAAW,CAAEC,cAAc,CAAC,CAAGrB,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACsB,YAAY,CAAEC,eAAe,CAAC,CAAGvB,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACwB,QAAQ,CAAEC,WAAW,CAAC,CAAGzB,QAAQ,CAAC,CACvC;AACA0B,QAAQ,CAAE,EAAE,CACZC,UAAU,CAAE,EAAE,CACdC,GAAG,CAAE,EAAE,CACPC,MAAM,CAAE,EAAE,CACVC,UAAU,CAAE,EAAE,CACdC,OAAO,CAAE,EAAE,CACXC,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CACTC,OAAO,CAAE,EAAE,CACXC,KAAK,CAAE,EAAE,CACTC,KAAK,CAAE,CAAAjB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEiB,KAAK,GAAI,EAAE,CACxBC,MAAM,CAAE,EAAE,CACVC,QAAQ,CAAE,EAAE,CAEZ;AACAC,YAAY,CAAE,EAAE,CAChBC,YAAY,CAAE,EAAE,CAChBC,YAAY,CAAE,EAAE,CAChBC,gBAAgB,CAAE,EAAE,CACpBC,mBAAmB,CAAE,EAAE,CACvBC,cAAc,CAAE,EAAE,CAClBC,cAAc,CAAE,EAAE,CAClBC,mBAAmB,CAAE,EAAE,CAEvB;AACAC,iBAAiB,CAAE,KAAK,CACxBC,wBAAwB,CAAE,EAAE,CAC5BC,iBAAiB,CAAE,SAAS,CAE5B;AACAC,UAAU,CAAE,EACd,CAAC,CAAC,CAEF,KAAM,CAACC,cAAc,CAAEC,iBAAiB,CAAC,CAAGpD,QAAQ,CAAC,KAAK,CAAC,CAE3D,KAAM,CAAAqD,aAAa,CAAG,CACpB,gBAAgB,CAChB,kBAAkB,CAClB,kBAAkB,CAClB,kBAAkB,CAClB,gBAAgB,CAChB,mBAAmB,CACnB,eAAe,CACf,YAAY,CACZ,YAAY,CACZ,QAAQ,CACR,OAAO,CACR,CAED,KAAM,CAAAC,MAAM,CAAG,CACb,gBAAgB,CAAE,mBAAmB,CAAE,OAAO,CAAE,OAAO,CAAE,cAAc,CAAE,OAAO,CAChF,KAAK,CAAE,SAAS,CAAE,SAAS,CAAE,kBAAkB,CAAE,WAAW,CAAE,WAAW,CACzE,QAAQ,CAAE,gBAAgB,CAAE,aAAa,CAAE,SAAS,CAAE,WAAW,CAAE,SAAS,CAC5E,UAAU,CAAE,QAAQ,CAAE,QAAQ,CAAE,WAAW,CAAE,QAAQ,CAAE,YAAY,CACnE,WAAW,CAAE,SAAS,CAAE,eAAe,CAAE,aAAa,CAAE,aAAa,CACtE,CAED,KAAM,CAAAC,iBAAiB,CAAIC,CAAC,EAAK,CAC/B,KAAM,CAAEC,IAAI,CAAEC,KAAK,CAAEC,IAAI,CAAEC,OAAQ,CAAC,CAAGJ,CAAC,CAACK,MAAM,CAE/C;AACA,GAAIJ,IAAI,GAAK,OAAO,CAAE,CACpB,KAAM,CAAAK,YAAY,CAAGJ,KAAK,CAACK,OAAO,CAAC,KAAK,CAAE,EAAE,CAAC,CAC7C,GAAID,YAAY,CAACE,MAAM,EAAI,EAAE,CAAE,CAC7BvC,WAAW,CAACwC,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACXD,IAAI,MACP,CAACR,IAAI,EAAGK,YAAY,EACpB,CAAC,CACL,CACA,OACF,CAEArC,WAAW,CAACwC,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACXD,IAAI,MACP,CAACR,IAAI,EAAGE,IAAI,GAAK,UAAU,CAAGC,OAAO,CAAGF,KAAK,EAC7C,CAAC,CACL,CAAC,CAED;AACA,KAAM,CAAAS,gBAAgB,CAAG,KAAO,CAAAX,CAAC,EAAK,CACpC,KAAM,CAAAY,KAAK,CAAGC,KAAK,CAACC,IAAI,CAACd,CAAC,CAACK,MAAM,CAACO,KAAK,CAAC,CACxC,GAAIA,KAAK,CAACJ,MAAM,GAAK,CAAC,CAAE,OAExBZ,iBAAiB,CAAC,IAAI,CAAC,CAEvB,KAAM,CAAAmB,YAAY,CAAGH,KAAK,CAACI,GAAG,CAACC,IAAI,EAAI,CACrC,MAAO,IAAI,CAAAC,OAAO,CAAC,CAACC,OAAO,CAAEC,MAAM,GAAK,CACtC;AACA,GAAIH,IAAI,CAACI,IAAI,CAAG,CAAC,CAAG,IAAI,CAAG,IAAI,CAAE,CAC/BC,KAAK,SAAAC,MAAA,CAASN,IAAI,CAAChB,IAAI,uCAAqC,CAAC,CAC7DkB,OAAO,CAAC,IAAI,CAAC,CACb,OACF,CAEA;AACA,KAAM,CAAAK,YAAY,CAAG,CACnB,YAAY,CAAE,WAAW,CAAE,WAAW,CAAE,WAAW,CACnD,WAAW,CAAE,WAAW,CAAE,WAAW,CAAE,WAAW,CAClD,iBAAiB,CAAE,oBAAoB,CACvC,yEAAyE,CAC1E,CAED,GAAI,CAACA,YAAY,CAACC,QAAQ,CAACR,IAAI,CAACd,IAAI,CAAC,CAAE,CACrCmB,KAAK,SAAAC,MAAA,CAASN,IAAI,CAAChB,IAAI,6EAA2E,CAAC,CACnGkB,OAAO,CAAC,IAAI,CAAC,CACb,OACF,CAEA,KAAM,CAAAO,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACE,MAAM,CAAIC,KAAK,EAAK,CACzBV,OAAO,CAAC,CACNlB,IAAI,CAAEgB,IAAI,CAAChB,IAAI,CACfE,IAAI,CAAEc,IAAI,CAACd,IAAI,CACfkB,IAAI,CAAEJ,IAAI,CAACI,IAAI,CACfS,IAAI,CAAED,KAAK,CAACxB,MAAM,CAAC0B,MAAM,CAAE;AAC3BC,UAAU,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CACrC,CAAC,CAAC,CACJ,CAAC,CACDR,MAAM,CAACS,OAAO,CAAG,IAAM,CACrBb,KAAK,uBAAAC,MAAA,CAAuBN,IAAI,CAAChB,IAAI,CAAE,CAAC,CACxCkB,OAAO,CAAC,IAAI,CAAC,CACf,CAAC,CACDO,MAAM,CAACU,aAAa,CAACnB,IAAI,CAAC,CAC5B,CAAC,CAAC,CACJ,CAAC,CAAC,CAEF,GAAI,CACF,KAAM,CAAAoB,OAAO,CAAG,KAAM,CAAAnB,OAAO,CAACoB,GAAG,CAACvB,YAAY,CAAC,CAC/C,KAAM,CAAAwB,UAAU,CAAGF,OAAO,CAACG,MAAM,CAACvB,IAAI,EAAIA,IAAI,GAAK,IAAI,CAAC,CAExDhD,WAAW,CAACwC,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACXD,IAAI,MACPf,UAAU,CAAE,CAAC,GAAGe,IAAI,CAACf,UAAU,CAAE,GAAG6C,UAAU,CAAC,EAC/C,CAAC,CAEH,GAAIA,UAAU,CAAC/B,MAAM,CAAG,CAAC,CAAE,CACzBc,KAAK,0BAAAC,MAAA,CAA0BgB,UAAU,CAAC/B,MAAM,YAAU,CAAC,CAC7D,CACF,CAAE,MAAOiC,KAAK,CAAE,CACdnB,KAAK,CAAC,0CAA0C,CAAC,CACjDoB,OAAO,CAACD,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC5C,CAAC,OAAS,CACR7C,iBAAiB,CAAC,KAAK,CAAC,CACxBI,CAAC,CAACK,MAAM,CAACH,KAAK,CAAG,EAAE,CAAE;AACvB,CACF,CAAC,CAED;AACA,KAAM,CAAAyC,UAAU,CAAIC,KAAK,EAAK,CAC5B3E,WAAW,CAACwC,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACXD,IAAI,MACPf,UAAU,CAAEe,IAAI,CAACf,UAAU,CAAC8C,MAAM,CAAC,CAACK,CAAC,CAAEC,CAAC,GAAKA,CAAC,GAAKF,KAAK,CAAC,EACzD,CAAC,CACL,CAAC,CAED;AACA,KAAM,CAAAG,cAAc,CAAIC,KAAK,EAAK,CAChC,GAAIA,KAAK,CAAG,IAAI,CAAE,MAAO,CAAAA,KAAK,CAAG,IAAI,CACrC,GAAIA,KAAK,CAAG,OAAO,CAAE,MAAO,CAAAC,IAAI,CAACC,KAAK,CAACF,KAAK,CAAG,IAAI,CAAC,CAAG,KAAK,CAC5D,MAAO,CAAAC,IAAI,CAACC,KAAK,CAACF,KAAK,CAAG,OAAO,CAAC,CAAG,KAAK,CAC5C,CAAC,CAED,KAAM,CAAAG,YAAY,CAAIC,IAAI,EAAK,CAC7B,KAAM,CAAAC,MAAM,CAAG,EAAE,CAEjB,GAAID,IAAI,GAAK,CAAC,CAAE,CACd,GAAI,CAACpF,QAAQ,CAACE,QAAQ,CAACoF,IAAI,CAAC,CAAC,CAAED,MAAM,CAACE,IAAI,CAAC,uBAAuB,CAAC,CACnE,GAAI,CAACvF,QAAQ,CAACG,UAAU,CAACmF,IAAI,CAAC,CAAC,CAAED,MAAM,CAACE,IAAI,CAAC,4BAA4B,CAAC,CAC1E,GAAI,CAACvF,QAAQ,CAACI,GAAG,EAAIJ,QAAQ,CAACI,GAAG,CAAG,CAAC,EAAIJ,QAAQ,CAACI,GAAG,CAAG,GAAG,CAAEiF,MAAM,CAACE,IAAI,CAAC,uBAAuB,CAAC,CACjG,GAAI,CAACvF,QAAQ,CAACK,MAAM,CAAEgF,MAAM,CAACE,IAAI,CAAC,oBAAoB,CAAC,CACvD,GAAI,CAACvF,QAAQ,CAACW,KAAK,CAAC2E,IAAI,CAAC,CAAC,CAAED,MAAM,CAACE,IAAI,CAAC,0BAA0B,CAAC,CACnE,GAAIvF,QAAQ,CAACW,KAAK,EAAI,CAAC,cAAc,CAAC6E,IAAI,CAACxF,QAAQ,CAACW,KAAK,CAAC,CAAE0E,MAAM,CAACE,IAAI,CAAC,uCAAuC,CAAC,CAChH,GAAI,CAACvF,QAAQ,CAACO,OAAO,CAAC+E,IAAI,CAAC,CAAC,CAAED,MAAM,CAACE,IAAI,CAAC,qBAAqB,CAAC,CAChE,GAAI,CAACvF,QAAQ,CAACQ,IAAI,CAAC8E,IAAI,CAAC,CAAC,CAAED,MAAM,CAACE,IAAI,CAAC,kBAAkB,CAAC,CAC1D,GAAI,CAACvF,QAAQ,CAACS,KAAK,CAAE4E,MAAM,CAACE,IAAI,CAAC,mBAAmB,CAAC,CACrD,GAAI,CAACvF,QAAQ,CAACU,OAAO,CAAC4E,IAAI,CAAC,CAAC,CAAED,MAAM,CAACE,IAAI,CAAC,qBAAqB,CAAC,CAChE,GAAIvF,QAAQ,CAACU,OAAO,EAAI,CAAC,SAAS,CAAC8E,IAAI,CAACxF,QAAQ,CAACU,OAAO,CAAC,CAAE2E,MAAM,CAACE,IAAI,CAAC,mCAAmC,CAAC,CAC3G,GAAI,CAACvF,QAAQ,CAACa,MAAM,CAAEwE,MAAM,CAACE,IAAI,CAAC,qBAAqB,CAAC,CACxD,GAAI,CAACvF,QAAQ,CAACc,QAAQ,CAACwE,IAAI,CAAC,CAAC,CAAED,MAAM,CAACE,IAAI,CAAC,uBAAuB,CAAC,CACnE,GAAIvF,QAAQ,CAACY,KAAK,EAAI,CAAC,4BAA4B,CAAC4E,IAAI,CAACxF,QAAQ,CAACY,KAAK,CAAC,CAAEyE,MAAM,CAACE,IAAI,CAAC,iCAAiC,CAAC,CAC1H,CAEA,GAAIH,IAAI,GAAK,CAAC,CAAE,CACd,GAAI,CAACpF,QAAQ,CAACe,YAAY,CAAEsE,MAAM,CAACE,IAAI,CAAC,2BAA2B,CAAC,CACpE,GAAI,CAACvF,QAAQ,CAACgB,YAAY,CAAEqE,MAAM,CAACE,IAAI,CAAC,2BAA2B,CAAC,CACpE,GAAI,CAACvF,QAAQ,CAACkB,gBAAgB,CAACoE,IAAI,CAAC,CAAC,CAAED,MAAM,CAACE,IAAI,CAAC,+BAA+B,CAAC,CACnF,GAAI,CAACvF,QAAQ,CAACmB,mBAAmB,CAACmE,IAAI,CAAC,CAAC,CAAED,MAAM,CAACE,IAAI,CAAC,kCAAkC,CAAC,CACzF,GAAIvF,QAAQ,CAACmB,mBAAmB,CAACmE,IAAI,CAAC,CAAC,CAAC9C,MAAM,CAAG,EAAE,CAAE6C,MAAM,CAACE,IAAI,CAAC,qDAAqD,CAAC,CACzH,CAEA,MAAO,CAAAF,MAAM,CACf,CAAC,CAED,KAAM,CAAAI,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAAJ,MAAM,CAAGF,YAAY,CAACvF,WAAW,CAAC,CAExC,GAAIyF,MAAM,CAAC7C,MAAM,CAAG,CAAC,CAAE,CACrBc,KAAK,CAAC,sCAAsC,CAAG+B,MAAM,CAACK,IAAI,CAAC,IAAI,CAAC,CAAC,CACjE,OACF,CAEA,GAAI9F,WAAW,CAAG,CAAC,CAAE,CACnBC,cAAc,CAACD,WAAW,CAAG,CAAC,CAAC,CACjC,CACF,CAAC,CAED,KAAM,CAAA+F,UAAU,CAAGA,CAAA,GAAM,CACvB,GAAI/F,WAAW,CAAG,CAAC,CAAE,CACnBC,cAAc,CAACD,WAAW,CAAG,CAAC,CAAC,CACjC,CACF,CAAC,CACD,KAAM,CAAAgG,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,KAAM,CAAAC,SAAS,CAAG,EAAE,CACpB,IAAK,GAAI,CAAAT,IAAI,CAAG,CAAC,CAAEA,IAAI,EAAI,CAAC,CAAEA,IAAI,EAAE,CAAE,CACpC,KAAM,CAAAU,UAAU,CAAGX,YAAY,CAACC,IAAI,CAAC,CACrCS,SAAS,CAACN,IAAI,CAAC,GAAGO,UAAU,CAAC,CAC/B,CAEA,GAAID,SAAS,CAACrD,MAAM,CAAG,CAAC,CAAE,CACxBc,KAAK,CAAC,sCAAsC,CAAGuC,SAAS,CAACH,IAAI,CAAC,IAAI,CAAC,CAAC,CACpE,OACF,CAEA3F,eAAe,CAAC,IAAI,CAAC,CAErB,GAAI,CAAAgG,QAAQ,CAAG,CAAC,CAChB,GAAI,CAAAC,YAAY,CAAG,KAAK,CACxBtB,OAAO,CAACuB,GAAG,CAAC,gBAAgB,CAAEjG,QAAQ,CAACmB,mBAAmB,CAAC,CAG3D,GAAI,CACF,KAAM,CAAA+E,UAAU,CAAG,KAAM,CAAAtH,KAAK,CAACuH,IAAI,IAAA5C,MAAA,CAAIhE,cAAc,cACnD,CAAC4B,mBAAmB,CAAGnB,QAAQ,CAACmB,mBAAmB,EAAI,EAAG,CAC5D,CAAC,CACDuD,OAAO,CAACuB,GAAG,CAAC,kBAAkB,CAAEC,UAAU,CAACpC,IAAI,CAAC,CAEhD,KAAM,CAAAsC,QAAQ,CAAGF,UAAU,CAACpC,IAAI,CAACsC,QAAQ,CAACC,WAAW,CAAC,CAAC,CACvD3B,OAAO,CAACuB,GAAG,CAAC,kBAAkB,CAAEG,QAAQ,CAAC,CAEzC,GAAIA,QAAQ,GAAK,MAAM,CAAE,CACvBL,QAAQ,CAAG,CAAC,CACZC,YAAY,CAAG,MAAM,CACvB,CAAC,IAAM,IAAII,QAAQ,GAAK,QAAQ,CAAE,CAChCL,QAAQ,CAAG,CAAC,CACZC,YAAY,CAAG,QAAQ,CACzB,CAAC,IAAM,CACLD,QAAQ,CAAG,CAAC,CACZC,YAAY,CAAG,KAAK,CACtB,CAEAtB,OAAO,CAACuB,GAAG,CAAC,4BAA4B,CAAEF,QAAQ,CAAC,CACrD,CAAE,MAAMO,OAAO,CAAC,CACd5B,OAAO,CAACuB,GAAG,CAAC,oBAAoB,CAAEK,OAAO,CAACC,OAAO,CAAC,CAClDR,QAAQ,CAAG,CAAC,CACZC,YAAY,CAAG,KAAK,CACpBtB,OAAO,CAACuB,GAAG,CAAC,yCAAyC,CAAEF,QAAQ,CAAC,CAClE,CAEA,KAAM,CAAAS,eAAe,CAAA9D,aAAA,CAAAA,aAAA,IAChB1C,QAAQ,MACX+F,QAAQ,CACRC,YAAY,CACZS,WAAW,CAAE,CACX7F,KAAK,CAAEjB,IAAI,CAACiB,KAAK,CACjBV,QAAQ,CAAEP,IAAI,CAACO,QAAQ,EAAIP,IAAI,CAACiB,KAAK,CACrC8F,QAAQ,CAAE/G,IAAI,CAAC+G,QAAQ,CACvBC,SAAS,CAAEhH,IAAI,CAACgH,SAClB,CAAC,EACF,CACDjC,OAAO,CAACuB,GAAG,CAAC,qBAAqB,CAAEO,eAAe,CAAC,CAGnD9H,UAAU,CAACkI,OAAO,CAACJ,eAAe,CAAC,CAGnC,GAAI,CACF,KAAM,CAAAK,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAvD,MAAA,CAAIpE,sBAAsB,mBAAkB,CACtE4H,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACX,eAAe,CACtC,CAAC,CAAC,CAEF,GAAI,CAACK,QAAQ,CAACO,EAAE,CAAE,CAChB;AACA,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAR,QAAQ,CAACS,IAAI,CAAC,CAAC,CACvC,KAAM,IAAI,CAAAC,KAAK,iBAAAhE,MAAA,CAAiBsD,QAAQ,CAACW,MAAM,OAAAjE,MAAA,CAAK8D,SAAS,CAAE,CAAC,CAClE,CAEA,KAAM,CAAAtD,MAAM,CAAG,KAAM,CAAA8C,QAAQ,CAACY,IAAI,CAAC,CAAC,CACpC/C,OAAO,CAACuB,GAAG,CAAC,sBAAsB,CAAElC,MAAM,CAAC,CAE3C,GAAIA,MAAM,CAAC2D,OAAO,CAAE,CAClBpE,KAAK,kDAAAC,MAAA,CAA6CwC,QAAQ,yBAAAxC,MAAA,CAAuBQ,MAAM,CAAC4D,MAAM,kBAAApE,MAAA,CAAgBQ,MAAM,CAAC6D,QAAQ,CAAE,CAAC,CAEhI;AACA3H,WAAW,CAAC,CACVC,QAAQ,CAAE,EAAE,CACZC,UAAU,CAAE,EAAE,CACdC,GAAG,CAAE,EAAE,CACPC,MAAM,CAAE,EAAE,CACVC,UAAU,CAAE,EAAE,CACdC,OAAO,CAAE,EAAE,CACXC,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CACTC,OAAO,CAAE,EAAE,CACXC,KAAK,CAAE,EAAE,CACTC,KAAK,CAAE,CAAAjB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEiB,KAAK,GAAI,EAAE,CACxBC,MAAM,CAAE,EAAE,CACVC,QAAQ,CAAE,EAAE,CACZC,YAAY,CAAE,EAAE,CAChBC,YAAY,CAAE,EAAE,CAChBC,YAAY,CAAE,EAAE,CAChBC,gBAAgB,CAAE,EAAE,CACpBC,mBAAmB,CAAE,EAAE,CACvBC,cAAc,CAAE,EAAE,CAClBC,cAAc,CAAE,EAAE,CAClBC,mBAAmB,CAAE,EAAE,CACvBC,iBAAiB,CAAE,KAAK,CACxBC,wBAAwB,CAAE,EAAE,CAC5BC,iBAAiB,CAAE,SAAS,CAC5BC,UAAU,CAAE,EACd,CAAC,CAAC,CAEF7B,cAAc,CAAC,CAAC,CAAC,CAEjBgI,UAAU,CAAC,IAAM,CACfnI,QAAQ,CAAC,oBAAoB,CAAC,CAChC,CAAC,CAAE,IAAI,CAAC,CAEV,CAAC,IAAM,CACL4D,KAAK,CAAC,2BAA2B,EAAIS,MAAM,CAACwC,OAAO,EAAI,gBAAgB,CAAC,CAAC,CAC3E,CACF,CAAE,MAAOuB,GAAG,CAAE,CACZpD,OAAO,CAACD,KAAK,CAAC,QAAQ,CAAEqD,GAAG,CAAC,CAC5BxE,KAAK,CAAC,6BAA6B,CAAGwE,GAAG,CAACvB,OAAO,CAAC,CACpD,CAEAxG,eAAe,CAAC,KAAK,CAAC,CACxB,CAAC,CAID,mBACEjB,IAAA,QAAKiJ,SAAS,CAAC,+BAA+B,CAAAC,QAAA,cAC5ChJ,KAAA,QAAK+I,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eAErDhJ,KAAA,QAAK+I,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChClJ,IAAA,OAAIiJ,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cAC1ElJ,IAAA,MAAGiJ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,+BAA6B,CAAG,CAAC,cAGtEhJ,KAAA,QAAK+I,SAAS,CAAC,wFAAwF,CAAAC,QAAA,eACrGlJ,IAAA,QAAKiJ,SAAS,CAAC,6BAA6B,CAACE,IAAI,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAF,QAAA,cAClFlJ,IAAA,SAAMqJ,QAAQ,CAAC,SAAS,CAACC,CAAC,CAAC,iRAAiR,CAACC,QAAQ,CAAC,SAAS,CAAE,CAAC,CAC/T,CAAC,cACNrJ,KAAA,SAAM+I,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EAAC,oBACzB,CAAC,CAAArI,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEO,QAAQ,IAAIP,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEiB,KAAK,GAC5C,CAAC,EACJ,CAAC,EACH,CAAC,cAGN9B,IAAA,QAAKiJ,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CACnD,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAAChF,GAAG,CAAEoC,IAAI,eACrBpG,KAAA,QAAgB+I,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAC3ClJ,IAAA,QAAKiJ,SAAS,8EAAAxE,MAAA,CAA+E3D,WAAW,EAAIwF,IAAI,CAC1G,wBAAwB,CACxB,2BAA2B,CAC5B,CAAA4C,QAAA,CACF5C,IAAI,CACF,CAAC,CACLA,IAAI,CAAG,CAAC,eACPtG,IAAA,QAAKiJ,SAAS,kBAAAxE,MAAA,CAAmB3D,WAAW,CAAGwF,IAAI,CAAG,aAAa,CAAG,aAAa,CAC9E,CAAM,CACZ,GAVOA,IAWL,CACN,CAAC,CACC,CAAC,cAENtG,IAAA,QAAKiJ,SAAS,CAAC,oCAAoC,CAAAC,QAAA,cAEjDhJ,KAAA,QAAAgJ,QAAA,EAEGpI,WAAW,GAAK,CAAC,eAChBZ,KAAA,QAAK+I,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlJ,IAAA,OAAIiJ,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,sBAAoB,CAAI,CAAC,cAC/EhJ,KAAA,QAAK+I,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDhJ,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,UAAOiJ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,aAAW,CAAO,CAAC,cACnFlJ,IAAA,UACEqD,IAAI,CAAC,MAAM,CACXF,IAAI,CAAC,UAAU,CACfC,KAAK,CAAElC,QAAQ,CAACE,QAAS,CACzBoI,QAAQ,CAAEvG,iBAAkB,CAC5BgG,SAAS,CAAC,wGAAwG,CAClHQ,WAAW,CAAC,sBAAsB,CAClCC,QAAQ,MACT,CAAC,EACC,CAAC,cACNxJ,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,UAAOiJ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,iBAAe,CAAO,CAAC,cACvFlJ,IAAA,UACEqD,IAAI,CAAC,MAAM,CACXF,IAAI,CAAC,YAAY,CACjBC,KAAK,CAAElC,QAAQ,CAACG,UAAW,CAC3BmI,QAAQ,CAAEvG,iBAAkB,CAC5BgG,SAAS,CAAC,wGAAwG,CAClHQ,WAAW,CAAC,qBAAqB,CACjCC,QAAQ,MACT,CAAC,EACC,CAAC,cACNxJ,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,UAAOiJ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,OAAK,CAAO,CAAC,cAC7ElJ,IAAA,UACEqD,IAAI,CAAC,QAAQ,CACbF,IAAI,CAAC,KAAK,CACVC,KAAK,CAAElC,QAAQ,CAACI,GAAI,CACpBkI,QAAQ,CAAEvG,iBAAkB,CAC5BgG,SAAS,CAAC,wGAAwG,CAClHQ,WAAW,CAAC,gBAAgB,CAC5BE,GAAG,CAAC,GAAG,CACPC,GAAG,CAAC,KAAK,CACTF,QAAQ,MACT,CAAC,EACC,CAAC,cACNxJ,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,UAAOiJ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,UAAQ,CAAO,CAAC,cAChFhJ,KAAA,WACEiD,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAElC,QAAQ,CAACK,MAAO,CACvBiI,QAAQ,CAAEvG,iBAAkB,CAC5BgG,SAAS,CAAC,wGAAwG,CAClHS,QAAQ,MAAAR,QAAA,eAERlJ,IAAA,WAAQoD,KAAK,CAAC,EAAE,CAAA8F,QAAA,CAAC,eAAa,CAAQ,CAAC,cACvClJ,IAAA,WAAQoD,KAAK,CAAC,MAAM,CAAA8F,QAAA,CAAC,MAAI,CAAQ,CAAC,cAClClJ,IAAA,WAAQoD,KAAK,CAAC,QAAQ,CAAA8F,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtClJ,IAAA,WAAQoD,KAAK,CAAC,OAAO,CAAA8F,QAAA,CAAC,OAAK,CAAQ,CAAC,EAC9B,CAAC,EACN,CAAC,cACNhJ,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,UAAOiJ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,YAAU,CAAO,CAAC,cAClFlJ,IAAA,UACEqD,IAAI,CAAC,MAAM,CACXF,IAAI,CAAC,YAAY,CACjBC,KAAK,CAAElC,QAAQ,CAACM,UAAW,CAC3BgI,QAAQ,CAAEvG,iBAAkB,CAC5BgG,SAAS,CAAC,wGAAwG,CAClHQ,WAAW,CAAC,uBAAuB,CACpC,CAAC,EACC,CAAC,cACNvJ,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,UAAOiJ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,gBAAc,CAAO,CAAC,cACtFlJ,IAAA,UACEqD,IAAI,CAAC,KAAK,CACVF,IAAI,CAAC,OAAO,CACZC,KAAK,CAAElC,QAAQ,CAACW,KAAM,CACtB2H,QAAQ,CAAEvG,iBAAkB,CAC5BgG,SAAS,CAAC,wGAAwG,CAClHQ,WAAW,CAAC,6BAA6B,CACzCI,SAAS,CAAC,IAAI,CACdH,QAAQ,MACT,CAAC,EACC,CAAC,cACNxJ,KAAA,QAAK+I,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BlJ,IAAA,UAAOiJ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,uCAAqC,CAAO,CAAC,cAC7GlJ,IAAA,UACEqD,IAAI,CAAC,OAAO,CACZF,IAAI,CAAC,OAAO,CACZC,KAAK,CAAElC,QAAQ,CAACY,KAAM,CACtB0H,QAAQ,CAAEvG,iBAAkB,CAC5BgG,SAAS,CAAC,mHAAmH,CAC7HQ,WAAW,CAAC,qBAAqB,CACjCK,QAAQ,MACT,CAAC,EACC,CAAC,cACN5J,KAAA,QAAK+I,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BlJ,IAAA,UAAOiJ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,WAAS,CAAO,CAAC,cACjFlJ,IAAA,aACEmD,IAAI,CAAC,SAAS,CACdC,KAAK,CAAElC,QAAQ,CAACO,OAAQ,CACxB+H,QAAQ,CAAEvG,iBAAkB,CAC5B8G,IAAI,CAAC,GAAG,CACRd,SAAS,CAAC,wGAAwG,CAClHQ,WAAW,CAAC,wBAAwB,CACpCC,QAAQ,MACC,CAAC,EACT,CAAC,cACNxJ,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,UAAOiJ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,QAAM,CAAO,CAAC,cAC9ElJ,IAAA,UACEqD,IAAI,CAAC,MAAM,CACXF,IAAI,CAAC,MAAM,CACXC,KAAK,CAAElC,QAAQ,CAACQ,IAAK,CACrB8H,QAAQ,CAAEvG,iBAAkB,CAC5BgG,SAAS,CAAC,wGAAwG,CAClHQ,WAAW,CAAC,YAAY,CACxBC,QAAQ,MACT,CAAC,EACC,CAAC,cACNxJ,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,UAAOiJ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,SAAO,CAAO,CAAC,cAC/EhJ,KAAA,WACEiD,IAAI,CAAC,OAAO,CACZC,KAAK,CAAElC,QAAQ,CAACS,KAAM,CACtB6H,QAAQ,CAAEvG,iBAAkB,CAC5BgG,SAAS,CAAC,wGAAwG,CAClHS,QAAQ,MAAAR,QAAA,eAERlJ,IAAA,WAAQoD,KAAK,CAAC,EAAE,CAAA8F,QAAA,CAAC,cAAY,CAAQ,CAAC,CACrClG,MAAM,CAACkB,GAAG,CAACvC,KAAK,eACf3B,IAAA,WAAoBoD,KAAK,CAAEzB,KAAM,CAAAuH,QAAA,CAAEvH,KAAK,EAA3BA,KAAoC,CAClD,CAAC,EACI,CAAC,EACN,CAAC,cACNzB,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,UAAOiJ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,WAAS,CAAO,CAAC,cACjFlJ,IAAA,UACEqD,IAAI,CAAC,MAAM,CACXF,IAAI,CAAC,SAAS,CACdC,KAAK,CAAElC,QAAQ,CAACU,OAAQ,CACxB4H,QAAQ,CAAEvG,iBAAkB,CAC5BgG,SAAS,CAAC,wGAAwG,CAClHQ,WAAW,CAAC,eAAe,CAC3BO,OAAO,CAAC,UAAU,CAClBN,QAAQ,MACT,CAAC,EACC,CAAC,cACNxJ,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,UAAOiJ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,WAAS,CAAO,CAAC,cACjFhJ,KAAA,WACEiD,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAElC,QAAQ,CAACa,MAAO,CACvByH,QAAQ,CAAEvG,iBAAkB,CAC5BgG,SAAS,CAAC,wGAAwG,CAClHS,QAAQ,MAAAR,QAAA,eAERlJ,IAAA,WAAQoD,KAAK,CAAC,EAAE,CAAA8F,QAAA,CAAC,gBAAc,CAAQ,CAAC,cACxClJ,IAAA,WAAQoD,KAAK,CAAC,SAAS,CAAA8F,QAAA,CAAC,cAAY,CAAQ,CAAC,cAC7ClJ,IAAA,WAAQoD,KAAK,CAAC,KAAK,CAAA8F,QAAA,CAAC,UAAQ,CAAQ,CAAC,cACrClJ,IAAA,WAAQoD,KAAK,CAAC,OAAO,CAAA8F,QAAA,CAAC,UAAQ,CAAQ,CAAC,cACvClJ,IAAA,WAAQoD,KAAK,CAAC,SAAS,CAAA8F,QAAA,CAAC,iBAAe,CAAQ,CAAC,cAChDlJ,IAAA,WAAQoD,KAAK,CAAC,UAAU,CAAA8F,QAAA,CAAC,UAAQ,CAAQ,CAAC,EACpC,CAAC,EACN,CAAC,cACNhJ,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,UAAOiJ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,aAAW,CAAO,CAAC,cACnFlJ,IAAA,UACEqD,IAAI,CAAC,MAAM,CACXF,IAAI,CAAC,UAAU,CACfC,KAAK,CAAElC,QAAQ,CAACc,QAAS,CACzBwH,QAAQ,CAAEvG,iBAAkB,CAC5BgG,SAAS,CAAC,wGAAwG,CAClHQ,WAAW,CAAC,iBAAiB,CAC7BC,QAAQ,MACT,CAAC,EACC,CAAC,EACH,CAAC,EACH,CACN,CAGA5I,WAAW,GAAK,CAAC,eAChBZ,KAAA,QAAK+I,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlJ,IAAA,OAAIiJ,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,kBAAgB,CAAI,CAAC,cAC3EhJ,KAAA,QAAK+I,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDhJ,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,UAAOiJ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,oBAAkB,CAAO,CAAC,cAC1FhJ,KAAA,WACEiD,IAAI,CAAC,cAAc,CACnBC,KAAK,CAAElC,QAAQ,CAACe,YAAa,CAC7BuH,QAAQ,CAAEvG,iBAAkB,CAC5BgG,SAAS,CAAC,wGAAwG,CAClHS,QAAQ,MAAAR,QAAA,eAERlJ,IAAA,WAAQoD,KAAK,CAAC,EAAE,CAAA8F,QAAA,CAAC,sBAAoB,CAAQ,CAAC,CAC7CnG,aAAa,CAACmB,GAAG,CAACb,IAAI,eACrBrD,IAAA,WAAmBoD,KAAK,CAAEC,IAAK,CAAA6F,QAAA,CAAE7F,IAAI,EAAxBA,IAAiC,CAC/C,CAAC,EACI,CAAC,EACN,CAAC,cACNnD,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,UAAOiJ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,oBAAkB,CAAO,CAAC,cAC1FlJ,IAAA,UACEqD,IAAI,CAAC,MAAM,CACXF,IAAI,CAAC,cAAc,CACnBC,KAAK,CAAElC,QAAQ,CAACgB,YAAa,CAC7BsH,QAAQ,CAAEvG,iBAAkB,CAC5BgG,SAAS,CAAC,wGAAwG,CAClHW,GAAG,CAAE,GAAI,CAAAzE,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC6E,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAE,CAC5CP,QAAQ,MACT,CAAC,EACC,CAAC,cACNxJ,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,UAAOiJ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,kBAAgB,CAAO,CAAC,cACxFlJ,IAAA,UACEqD,IAAI,CAAC,MAAM,CACXF,IAAI,CAAC,cAAc,CACnBC,KAAK,CAAElC,QAAQ,CAACiB,YAAa,CAC7BqH,QAAQ,CAAEvG,iBAAkB,CAC5BgG,SAAS,CAAC,wGAAwG,CACnH,CAAC,EACC,CAAC,cACN/I,KAAA,QAAK+I,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BlJ,IAAA,UAAOiJ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,wBAAsB,CAAO,CAAC,cAC9FlJ,IAAA,aACEmD,IAAI,CAAC,kBAAkB,CACvBC,KAAK,CAAElC,QAAQ,CAACkB,gBAAiB,CACjCoH,QAAQ,CAAEvG,iBAAkB,CAC5B8G,IAAI,CAAC,GAAG,CACRd,SAAS,CAAC,wGAAwG,CAClHQ,WAAW,CAAC,uDAAuD,CACnEC,QAAQ,MACC,CAAC,EACT,CAAC,cACNxJ,KAAA,QAAK+I,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BlJ,IAAA,UAAOiJ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,wBAAsB,CAAO,CAAC,cAC9FlJ,IAAA,aACEmD,IAAI,CAAC,qBAAqB,CAC1BC,KAAK,CAAElC,QAAQ,CAACmB,mBAAoB,CACpCmH,QAAQ,CAAEvG,iBAAkB,CAC5B8G,IAAI,CAAC,GAAG,CACRd,SAAS,CAAC,wGAAwG,CAClHQ,WAAW,CAAC,gGAAgG,CAC5GC,QAAQ,MACC,CAAC,EACT,CAAC,EACH,CAAC,EACH,CACN,CAGA5I,WAAW,GAAK,CAAC,eAChBZ,KAAA,QAAK+I,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlJ,IAAA,OAAIiJ,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,oBAAkB,CAAI,CAAC,cAC7EhJ,KAAA,QAAK+I,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBhJ,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,UAAOiJ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,4BAA0B,CAAO,CAAC,cAClGlJ,IAAA,aACEmD,IAAI,CAAC,gBAAgB,CACrBC,KAAK,CAAElC,QAAQ,CAACoB,cAAe,CAC/BkH,QAAQ,CAAEvG,iBAAkB,CAC5B8G,IAAI,CAAC,GAAG,CACRd,SAAS,CAAC,wGAAwG,CAClHQ,WAAW,CAAC,iFAAiF,CACpF,CAAC,EACT,CAAC,cACNvJ,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,UAAOiJ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,0BAAwB,CAAO,CAAC,cAChGlJ,IAAA,aACEmD,IAAI,CAAC,gBAAgB,CACrBC,KAAK,CAAElC,QAAQ,CAACqB,cAAe,CAC/BiH,QAAQ,CAAEvG,iBAAkB,CAC5B8G,IAAI,CAAC,GAAG,CACRd,SAAS,CAAC,wGAAwG,CAClHQ,WAAW,CAAC,2EAA2E,CAC9E,CAAC,EACT,CAAC,cACNvJ,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,UAAOiJ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,sBAAoB,CAAO,CAAC,cAC5FlJ,IAAA,aACEmD,IAAI,CAAC,qBAAqB,CAC1BC,KAAK,CAAElC,QAAQ,CAACsB,mBAAoB,CACpCgH,QAAQ,CAAEvG,iBAAkB,CAC5B8G,IAAI,CAAC,GAAG,CACRd,SAAS,CAAC,wGAAwG,CAClHQ,WAAW,CAAC,sFAAsF,CACzF,CAAC,EACT,CAAC,cAGNvJ,KAAA,QAAK+I,SAAS,CAAC,kEAAkE,CAAAC,QAAA,eAC/ElJ,IAAA,OAAIiJ,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,oCAAwB,CAAI,CAAC,cACtFlJ,IAAA,MAAGiJ,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,4IAE1C,CAAG,CAAC,cAEJlJ,IAAA,QAAKiJ,SAAS,CAAC,yCAAyC,CAAAC,QAAA,cACtDhJ,KAAA,UAAO+I,SAAS,CAAC,uKAAuK,CAAAC,QAAA,eACtLhJ,KAAA,QAAK+I,SAAS,CAAC,qDAAqD,CAAAC,QAAA,eAClElJ,IAAA,QAAKiJ,SAAS,CAAC,4BAA4B,CAACE,IAAI,CAAC,MAAM,CAACe,MAAM,CAAC,cAAc,CAACd,OAAO,CAAC,WAAW,CAAAF,QAAA,cAC/FlJ,IAAA,SAAMmK,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACf,CAAC,CAAC,uFAAuF,CAAE,CAAC,CAC5J,CAAC,cACNpJ,KAAA,MAAG+I,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACvClJ,IAAA,SAAMiJ,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,iBAAe,CAAM,CAAC,oBACxD,EAAG,CAAC,cACJlJ,IAAA,MAAGiJ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,0CAAwC,CAAG,CAAC,EAC9E,CAAC,cACNlJ,IAAA,UACEqD,IAAI,CAAC,MAAM,CACX4F,SAAS,CAAC,QAAQ,CAClBqB,QAAQ,MACRC,MAAM,CAAC,iCAAiC,CACxCf,QAAQ,CAAE3F,gBAAiB,CAC3B2G,QAAQ,CAAE3H,cAAe,CAC1B,CAAC,EACG,CAAC,CACL,CAAC,CAELA,cAAc,eACb3C,KAAA,QAAK+I,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDhJ,KAAA,QAAK+I,SAAS,CAAC,yCAAyC,CAACE,IAAI,CAAC,MAAM,CAACC,OAAO,CAAC,WAAW,CAAAF,QAAA,eACtFlJ,IAAA,WAAQyK,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,CAAC,CAAC,IAAI,CAACT,MAAM,CAAC,cAAc,CAACG,WAAW,CAAC,GAAG,CAACpB,SAAS,CAAC,YAAY,CAAS,CAAC,cACrGjJ,IAAA,SAAMmJ,IAAI,CAAC,cAAc,CAACG,CAAC,CAAC,iHAAiH,CAACL,SAAS,CAAC,YAAY,CAAO,CAAC,EACzK,CAAC,cACNjJ,IAAA,SAAMiJ,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,oBAAkB,CAAM,CAAC,EACtD,CACN,CAGAhI,QAAQ,CAAC0B,UAAU,CAACc,MAAM,CAAG,CAAC,eAC7BxD,KAAA,QAAK+I,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBhJ,KAAA,OAAI+I,SAAS,CAAC,kCAAkC,CAAAC,QAAA,EAAC,kBAAgB,CAAChI,QAAQ,CAAC0B,UAAU,CAACc,MAAM,CAAC,GAAC,EAAI,CAAC,cACnG1D,IAAA,QAAKiJ,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBhI,QAAQ,CAAC0B,UAAU,CAACsB,GAAG,CAAC,CAACC,IAAI,CAAE2B,KAAK,gBACnC5F,KAAA,QAAiB+I,SAAS,CAAC,kEAAkE,CAAAC,QAAA,eAC3FhJ,KAAA,QAAK+I,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChChJ,KAAA,QAAK+I,SAAS,CAAC,oBAAoB,CAAAC,QAAA,EAChC/E,IAAI,CAACd,IAAI,CAACuH,UAAU,CAAC,QAAQ,CAAC,eAC7B5K,IAAA,QAAKiJ,SAAS,CAAC,wBAAwB,CAACE,IAAI,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAF,QAAA,cAC7ElJ,IAAA,SAAMqJ,QAAQ,CAAC,SAAS,CAACC,CAAC,CAAC,4FAA4F,CAACC,QAAQ,CAAC,SAAS,CAAE,CAAC,CAC1I,CACN,CACApF,IAAI,CAACd,IAAI,CAACuH,UAAU,CAAC,QAAQ,CAAC,eAC7B5K,IAAA,QAAKiJ,SAAS,CAAC,uBAAuB,CAACE,IAAI,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAF,QAAA,cAC5ElJ,IAAA,SAAMsJ,CAAC,CAAC,4JAA4J,CAAE,CAAC,CACpK,CACN,CACAnF,IAAI,CAACd,IAAI,CAACsB,QAAQ,CAAC,KAAK,CAAC,eACxB3E,IAAA,QAAKiJ,SAAS,CAAC,sBAAsB,CAACE,IAAI,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAF,QAAA,cAC3ElJ,IAAA,SAAMqJ,QAAQ,CAAC,SAAS,CAACC,CAAC,CAAC,qGAAqG,CAACC,QAAQ,CAAC,SAAS,CAAE,CAAC,CACnJ,CACN,CACA,CAACpF,IAAI,CAACd,IAAI,CAACsB,QAAQ,CAAC,KAAK,CAAC,EAAIR,IAAI,CAACd,IAAI,CAACsB,QAAQ,CAAC,MAAM,CAAC,gBACvD3E,IAAA,QAAKiJ,SAAS,CAAC,uBAAuB,CAACE,IAAI,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAF,QAAA,cAC5ElJ,IAAA,SAAMqJ,QAAQ,CAAC,SAAS,CAACC,CAAC,CAAC,qGAAqG,CAACC,QAAQ,CAAC,SAAS,CAAE,CAAC,CACnJ,CACN,EACE,CAAC,cACNrJ,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,MAAGiJ,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAE/E,IAAI,CAAChB,IAAI,CAAI,CAAC,cAChEnD,IAAA,MAAGiJ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEjD,cAAc,CAAC9B,IAAI,CAACI,IAAI,CAAC,CAAI,CAAC,EACjE,CAAC,EACH,CAAC,cACNvE,IAAA,WACEqD,IAAI,CAAC,QAAQ,CACbwH,OAAO,CAAEA,CAAA,GAAMhF,UAAU,CAACC,KAAK,CAAE,CACjCmD,SAAS,CAAC,qCAAqC,CAC/C6B,KAAK,CAAC,aAAa,CAAA5B,QAAA,cAEnBlJ,IAAA,QAAKiJ,SAAS,CAAC,SAAS,CAACE,IAAI,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAF,QAAA,cAC9DlJ,IAAA,SAAMqJ,QAAQ,CAAC,SAAS,CAACC,CAAC,CAAC,oMAAoM,CAACC,QAAQ,CAAC,SAAS,CAAE,CAAC,CAClP,CAAC,CACA,CAAC,GAtCDzD,KAuCL,CACN,CAAC,CACC,CAAC,EACH,CACN,EACE,CAAC,cAEN5F,KAAA,QAAK+I,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChClJ,IAAA,UACEqD,IAAI,CAAC,UAAU,CACfF,IAAI,CAAC,mBAAmB,CACxBG,OAAO,CAAEpC,QAAQ,CAACuB,iBAAkB,CACpC+G,QAAQ,CAAEvG,iBAAkB,CAC5BgG,SAAS,CAAC,mEAAmE,CAC9E,CAAC,cACFjJ,IAAA,UAAOiJ,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,0DAEpD,CAAO,CAAC,EACL,CAAC,CACLhI,QAAQ,CAACuB,iBAAiB,eACzBvC,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,UAAOiJ,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,4BAA0B,CAAO,CAAC,cAClGlJ,IAAA,aACEmD,IAAI,CAAC,0BAA0B,CAC/BC,KAAK,CAAElC,QAAQ,CAACwB,wBAAyB,CACzC8G,QAAQ,CAAEvG,iBAAkB,CAC5B8G,IAAI,CAAC,GAAG,CACRd,SAAS,CAAC,wGAAwG,CAClHQ,WAAW,CAAC,oFAAoF,CACvF,CAAC,EACT,CACN,EACE,CAAC,EACH,CACN,CAGA3I,WAAW,GAAK,CAAC,eAChBZ,KAAA,QAAK+I,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlJ,IAAA,OAAIiJ,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cAG1EhJ,KAAA,QAAK+I,SAAS,CAAC,oDAAoD,CAAAC,QAAA,eACjElJ,IAAA,OAAIiJ,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,6BAA2B,CAAI,CAAC,cAClFhJ,KAAA,MAAG+I,SAAS,CAAC,wBAAwB,CAAAC,QAAA,EAAC,SAAO,CAACrI,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEiB,KAAK,EAAI,CAAC,cAC9D5B,KAAA,MAAG+I,SAAS,CAAC,wBAAwB,CAAAC,QAAA,EAAC,QAAM,CAAC,CAAArI,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEO,QAAQ,GAAI,cAAc,EAAI,CAAC,cAClFlB,KAAA,MAAG+I,SAAS,CAAC,wBAAwB,CAAAC,QAAA,EAAC,aAAW,CAACrI,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE+G,QAAQ,EAAI,CAAC,EAClE,CAAC,cAEN1H,KAAA,QAAK+I,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eAClDhJ,KAAA,QAAK+I,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDhJ,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,OAAIiJ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,sBAAoB,CAAI,CAAC,cACrEhJ,KAAA,MAAG+I,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,QAAM,CAAChI,QAAQ,CAACE,QAAQ,EAAI,CAAC,cAClElB,KAAA,MAAG+I,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,OAAK,CAAChI,QAAQ,CAACI,GAAG,EAAI,CAAC,cAC5DpB,KAAA,MAAG+I,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,SAAO,CAAChI,QAAQ,CAACW,KAAK,EAAI,CAAC,cAChE3B,KAAA,MAAG+I,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,QAAM,CAAChI,QAAQ,CAACQ,IAAI,CAAC,IAAE,CAACR,QAAQ,CAACS,KAAK,EAAI,CAAC,EAC7E,CAAC,cACNzB,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,OAAIiJ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,sBAAoB,CAAI,CAAC,cACrEhJ,KAAA,MAAG+I,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,QAAM,CAAChI,QAAQ,CAACe,YAAY,EAAI,CAAC,cACtE/B,KAAA,MAAG+I,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,QAAM,CAAChI,QAAQ,CAACgB,YAAY,EAAI,CAAC,CACrEhB,QAAQ,CAACiB,YAAY,eACpBjC,KAAA,MAAG+I,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,QAAM,CAAChI,QAAQ,CAACiB,YAAY,EAAI,CACtE,EACE,CAAC,EACH,CAAC,cACNjC,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,OAAIiJ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,sBAAoB,CAAI,CAAC,cACrElJ,IAAA,MAAGiJ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEhI,QAAQ,CAACmB,mBAAmB,CAAI,CAAC,EACpE,CAAC,cACNnC,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,OAAIiJ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,cACzDlJ,IAAA,MAAGiJ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEhI,QAAQ,CAACkB,gBAAgB,CAAI,CAAC,EACjE,CAAC,CAGLlB,QAAQ,CAAC0B,UAAU,CAACc,MAAM,CAAG,CAAC,eAC7BxD,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,OAAIiJ,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,yBAAuB,CAAI,CAAC,cAC7ElJ,IAAA,QAAKiJ,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CACnDhI,QAAQ,CAAC0B,UAAU,CAACsB,GAAG,CAAC,CAACC,IAAI,CAAE2B,KAAK,gBACnC5F,KAAA,QAAiB+I,SAAS,CAAC,+CAA+C,CAAAC,QAAA,eACxEhJ,KAAA,QAAK+I,SAAS,CAAC,oBAAoB,CAAAC,QAAA,EAChC/E,IAAI,CAACd,IAAI,CAACuH,UAAU,CAAC,QAAQ,CAAC,eAC7B5K,IAAA,QAAKiJ,SAAS,CAAC,wBAAwB,CAACE,IAAI,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAF,QAAA,cAC7ElJ,IAAA,SAAMqJ,QAAQ,CAAC,SAAS,CAACC,CAAC,CAAC,4FAA4F,CAACC,QAAQ,CAAC,SAAS,CAAE,CAAC,CAC1I,CACN,CACApF,IAAI,CAACd,IAAI,CAACuH,UAAU,CAAC,QAAQ,CAAC,eAC7B5K,IAAA,QAAKiJ,SAAS,CAAC,uBAAuB,CAACE,IAAI,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAF,QAAA,cAC5ElJ,IAAA,SAAMsJ,CAAC,CAAC,4JAA4J,CAAE,CAAC,CACpK,CACN,CACA,CAACnF,IAAI,CAACd,IAAI,CAACsB,QAAQ,CAAC,KAAK,CAAC,EAAIR,IAAI,CAACd,IAAI,CAACsB,QAAQ,CAAC,KAAK,CAAC,gBACtD3E,IAAA,QAAKiJ,SAAS,CAAC,sBAAsB,CAACE,IAAI,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAF,QAAA,cAC3ElJ,IAAA,SAAMqJ,QAAQ,CAAC,SAAS,CAACC,CAAC,CAAC,qGAAqG,CAACC,QAAQ,CAAC,SAAS,CAAE,CAAC,CACnJ,CACN,EACE,CAAC,cACNrJ,KAAA,QAAK+I,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BlJ,IAAA,MAAGiJ,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CAAE/E,IAAI,CAAChB,IAAI,CAAI,CAAC,cACzEnD,IAAA,MAAGiJ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEjD,cAAc,CAAC9B,IAAI,CAACI,IAAI,CAAC,CAAI,CAAC,EACjE,CAAC,GArBEuB,KAsBL,CACN,CAAC,CACC,CAAC,EACH,CACN,CAEA5E,QAAQ,CAACoB,cAAc,eACtBpC,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,OAAIiJ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cAChElJ,IAAA,MAAGiJ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEhI,QAAQ,CAACoB,cAAc,CAAI,CAAC,EAC/D,CACN,CAEApB,QAAQ,CAACqB,cAAc,eACtBrC,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,OAAIiJ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cAChElJ,IAAA,MAAGiJ,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEhI,QAAQ,CAACqB,cAAc,CAAI,CAAC,EAC/D,CACN,EACE,CAAC,cAENvC,IAAA,QAAKiJ,SAAS,CAAC,kDAAkD,CAAAC,QAAA,cAC/DhJ,KAAA,QAAK+I,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BlJ,IAAA,QAAKiJ,SAAS,CAAC,mCAAmC,CAACE,IAAI,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAF,QAAA,cACxFlJ,IAAA,SAAMqJ,QAAQ,CAAC,SAAS,CAACC,CAAC,CAAC,kIAAkI,CAACC,QAAQ,CAAC,SAAS,CAAE,CAAC,CAChL,CAAC,cACNrJ,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,OAAIiJ,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,kBAAgB,CAAI,CAAC,cACvElJ,IAAA,MAAGiJ,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,6LAG1C,CAAG,CAAC,EACD,CAAC,EACH,CAAC,CACH,CAAC,cAENlJ,IAAA,QAAKiJ,SAAS,CAAC,oDAAoD,CAAAC,QAAA,cACjEhJ,KAAA,QAAK+I,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BlJ,IAAA,QAAKiJ,SAAS,CAAC,oCAAoC,CAACE,IAAI,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAF,QAAA,cACzFlJ,IAAA,SAAMqJ,QAAQ,CAAC,SAAS,CAACC,CAAC,CAAC,uIAAuI,CAACC,QAAQ,CAAC,SAAS,CAAE,CAAC,CACrL,CAAC,cACNrJ,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,OAAIiJ,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cACvElJ,IAAA,MAAGiJ,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,oKAG3C,CAAG,CAAC,EACD,CAAC,EACH,CAAC,CACH,CAAC,EACH,CACN,cAGDhJ,KAAA,QAAK+I,SAAS,CAAC,sEAAsE,CAAAC,QAAA,eACnFhJ,KAAA,WACEmD,IAAI,CAAC,QAAQ,CACbwH,OAAO,CAAEhE,UAAW,CACpB2D,QAAQ,CAAE1J,WAAW,GAAK,CAAE,CAC5BmI,SAAS,mFAAAxE,MAAA,CAAoF3D,WAAW,GAAK,CAAC,CACxG,8CAA8C,CAC9C,6CAA6C,CAC9C,CAAAoI,QAAA,eAELlJ,IAAA,QAAKiJ,SAAS,CAAC,cAAc,CAACE,IAAI,CAAC,MAAM,CAACe,MAAM,CAAC,cAAc,CAACd,OAAO,CAAC,WAAW,CAAAF,QAAA,cACjFlJ,IAAA,SAAMmK,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACf,CAAC,CAAC,iBAAiB,CAAE,CAAC,CACtF,CAAC,WAER,EAAQ,CAAC,CAERxI,WAAW,CAAG,CAAC,cACdZ,KAAA,WACEmD,IAAI,CAAC,QAAQ,CACbwH,OAAO,CAAElE,UAAW,CACpBsC,SAAS,CAAC,yHAAyH,CAAAC,QAAA,EACpI,MAEC,cAAAlJ,IAAA,QAAKiJ,SAAS,CAAC,cAAc,CAACE,IAAI,CAAC,MAAM,CAACe,MAAM,CAAC,cAAc,CAACd,OAAO,CAAC,WAAW,CAAAF,QAAA,cACjFlJ,IAAA,SAAMmK,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACf,CAAC,CAAC,cAAc,CAAE,CAAC,CACnF,CAAC,EACA,CAAC,cAETtJ,IAAA,WACEqD,IAAI,CAAC,QAAQ,CACbwH,OAAO,CAAE/D,YAAa,CACtB0D,QAAQ,CAAExJ,YAAa,CACvBiI,SAAS,mFAAAxE,MAAA,CAAoFzD,YAAY,CACnG,gCAAgC,CAChC,iCAAiC,eACvB,CAAAkI,QAAA,CAEflI,YAAY,cACXd,KAAA,CAAAE,SAAA,EAAA8I,QAAA,eACEhJ,KAAA,QAAK+I,SAAS,CAAC,2BAA2B,CAACE,IAAI,CAAC,MAAM,CAACC,OAAO,CAAC,WAAW,CAAAF,QAAA,eACxElJ,IAAA,WAAQyK,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,CAAC,CAAC,IAAI,CAACT,MAAM,CAAC,cAAc,CAACG,WAAW,CAAC,GAAG,CAACpB,SAAS,CAAC,YAAY,CAAS,CAAC,cACrGjJ,IAAA,SAAMmJ,IAAI,CAAC,cAAc,CAACG,CAAC,CAAC,iHAAiH,CAACL,SAAS,CAAC,YAAY,CAAO,CAAC,EACzK,CAAC,gBAER,EAAE,CAAC,cAEH/I,KAAA,CAAAE,SAAA,EAAA8I,QAAA,EAAE,YAEA,cAAAlJ,IAAA,QAAKiJ,SAAS,CAAC,cAAc,CAACE,IAAI,CAAC,MAAM,CAACe,MAAM,CAAC,cAAc,CAACd,OAAO,CAAC,WAAW,CAAAF,QAAA,cACjFlJ,IAAA,SAAMmK,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACf,CAAC,CAAC,+CAA+C,CAAE,CAAC,CACpH,CAAC,EACN,CACH,CACK,CACT,EACE,CAAC,EACH,CAAC,CACH,CAAC,cAGNtJ,IAAA,QAAKiJ,SAAS,CAAC,iCAAiC,CAAAC,QAAA,cAC9ChJ,KAAA,QAAK+I,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BlJ,IAAA,QAAKiJ,SAAS,CAAC,+CAA+C,CAACE,IAAI,CAAC,MAAM,CAACe,MAAM,CAAC,cAAc,CAACd,OAAO,CAAC,WAAW,CAAAF,QAAA,cAClHlJ,IAAA,SAAMmK,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACf,CAAC,CAAC,2JAA2J,CAAE,CAAC,CAChO,CAAC,cACNpJ,KAAA,QAAAgJ,QAAA,eACElJ,IAAA,OAAIiJ,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,YAAU,CAAI,CAAC,cACnEhJ,KAAA,MAAG+I,SAAS,CAAC,oBAAoB,CAAAC,QAAA,EAAC,4EAC0C,cAAAlJ,IAAA,WAAAkJ,QAAA,CAAQ,eAAa,CAAQ,CAAC,yFAE1G,EAAG,CAAC,EACD,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAvI,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}